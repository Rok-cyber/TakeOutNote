<SCRIPT LANGUAGE="JavaScript">
<!--
function ckSearch(){
	f = document.searchForm;
	if(f.cate1.value==' ==== 1차분류 ==== ') f.cate1.value='';
	if(f.cate2.value==' ==== 2차분류 ==== ') f.cate2.value='';
	if(f.cate3.value==' ==== 3차분류 ==== ') f.cate3.value='';
	if(f.cate4.value==' ==== 4차분류 ==== ') f.cate4.value='';

	f.submit();
	return false;
}

function ckEnter(){
	if(event.keyCode==13) {
		return ckSearch();
	}
}

//-->
</SCRIPT>


<table border=0 cellpadding="0" cellspacing="0" width="99%" align=center>
<tr>
  <td colspan=2>
		<table border="0" cellpadding="0" cellspacing="0" width="100%" align="center" bgcolor='#EFEFEF' class="all">
		<form name="searchForm" method="get" action="sale.php" onsubmit='return false;'>
		<input type="hidden" name="mode" value="goods" />
		<tr><td height='6'></td></tr>
		<tr>			
			<td height="28" style="padding-left:10px;">
				<div class="boxText small orange">쇼핑분류</div> 	
				<div style='float:left;padding-left:6px;'>
					<input type="hidden" name="seccate">
					<select name="cate1"></select>
					<select name="cate2"></select>
					<select name="cate3"></select>
					<select name="cate4"></select>
				</div>
			</td>
		</tr>
		<tr>			
			<td height="28" style="padding-left:10px;">
				<div class="boxText small orange">검색어</div> 
				<div style='float:left;padding-left:6px;padding-right:10px;'> 
					<select name="field">
						<option value='p_name'>상품명</option>					   
					</select>
					<input type=text name='word' size="25" value="{{word}}" class="bt2" onkeydown="ckEnter();">
				</div>
				<div class="boxText small orange">정렬</div> 
				<div style='float:left;padding-left:6px;padding-right:10px;'> 
					<select name="order">
						<option value="qty">판매량</option>
						<option value="sum_price">매출액</option>						
					</select>
					
				</div>
				<div class="boxText small orange">출력수</div> 
				<div style='float:left;padding-left:6px;padding-right:10px;'> 
					<select name="limit">
						<option value="10">10개</option>
						<option value="20">20개</option>
						<option value="30">30개</option>
						<option value="50">50개</option>
						<option value="100">100개</option>
					</select>					
				</div>

				<div id="sBtn1" style="padding-left:6px;">
					<a href="#" onclick="return ckSearch();"><span class="green">검색하기</span></a>
					<a href="sale.php?mode=goods"><span class="green">초기화</span></a>
				</div>
			</td>
		</tr>
		<tr><td height='4'></td></tr>
		</form>
		</table>
  </td>	
</tr>
<tr><td height=20 colspan=2></td></tr>
<tr height=20>
	<td width=40%><font class="small">&nbsp;전체 : <font class="eng">{{TOTAL}}</font> 건 &nbsp;&nbsp;<font class="eng">{{PAGE}}</font> 페이지</font></td>
    <td align=right class=small>! 상품가격은 상품기본가격이며 매출액은 상품옵션 추가가격 및 회원/이벤트 할인가격 포함됩니다.</td>
</tr>
	<td colspan=2>
		<table border=0 cellpadding=0 cellspacing=4 width=100% bgcolor=#EEEEEE>
		<tr>
			<td>
			   <table border=0 cellpadding=0 cellspacing=0 width=100% bgcolor=#999999>
			   <tr><td align=center>
					<table border=0 cellpadding="0" cellspacing="1" width="100%" align=center>
					<tr height=24>
						<td width=10% align=center class=gr_bg><font class="bTitle small">번호</font></td>
						<td align=center class=gr_bg><font class="bTitle small">상품명</font></td>
						<td width=15% align=center class=gr_bg><font class="bTitle small">상품가격</font></td>
						<td width=10% align=center class=gr_bg><font class="bTitle small">판매량</font></td>						
						<td width=20% align=center class=gr_bg><font class="bTitle small">매출액</font></td>												
					</tr>
					<!-- DYNAMIC @loop@ -->
					<tr height=22 bgcolor={{BGCOLOR}} onMouseOver=this.style.backgroundColor="#F4F4F4" onMouseOut=this.style.backgroundColor="">
						<td align=center class=eng>{{NUM}}</td>
						<td align=left style="padding-left:6px;">{{NAME}}</td>
						<td align=right class=eng>{{PRICE}}원&nbsp;</td>
						<td align=right class=eng>{{QTY}}개&nbsp;</td>						
						<td align=right class=eng>{{SUM}}원&nbsp;</td>
					</tr>
					<!-- DYNAMIC @loop@ -->
					<!-- DYNAMIC @noloop@ -->
                    <tr><td bgcolor=#ffffff colspan=5 height=80 align=center valign=middle>상품이 없습니다.</td></tr> 
					<!-- DYNAMIC @noloop@ -->
					</table>
				    </td></tr>
				</table>
			</td>
		</tr>
		</table>
	</td>
</tr>
<tr><td height=10 colspan=2></td></tr>
<tr><td height=20 colspan=2 align=center id=paging>{{PAGING}}</td></tr>
<tr><td height=30 colspan=2></td></tr>
</table>

<SCRIPT LANGUAGE="JavaScript">
<!--

{{tmps1}}
{{tmps2}}

for(i=0,cnt=CATEname.length;i<cnt;i++){
    searchForm.cate1.options[i]=new Option(CATEname[i][0],CATEnum[i][0]);	
}

searchForm.cate2.options[0]=new Option(CATEname[0][1][0],CATEname[0][1][0])
searchForm.cate3.options[0]=new Option(CATEname[0][1][1][0],CATEname[0][1][1][0])
searchForm.cate4.options[0]=new Option(CATEname[0][1][1][1],CATEname[0][1][1][1])

searchForm.cate1.onchange=function(e){
	for(i=searchForm.cate2.length;i>0;i--){
		searchForm.cate2.options[i]=null;
	}
	for(i=searchForm.cate3.length;i>0;i--){
		searchForm.cate3.options[i]=null;
	}
	for(i=searchForm.cate4.length;i>0;i--){
		searchForm.cate4.options[i]=null;
	}
	
	sIndex = searchForm.cate1.selectedIndex;
	if(sIndex!=0) {
		for(i=1,cnt=CATEname[sIndex].slice(1).length;i<=cnt;i++){
			if(CATEname[sIndex][i][0]) searchForm.cate2.options[i]=new Option(CATEname[sIndex][i][0],CATEnum[sIndex][i][0]);
			else searchForm.cate2.options[i]=new Option(CATEname[sIndex][i],CATEnum[sIndex][i]);
		}
	}
	searchForm.seccate.value = searchForm.cate1.value;	
}

searchForm.cate2.onchange=function(e){
	for(i=searchForm.cate3.length;i>0;i--){
		searchForm.cate3.options[i]=null;
	}	
	for(i=searchForm.cate4.length;i>0;i--){
		searchForm.cate4.options[i]=null;
	}
	
	sIndex2 = searchForm.cate2.selectedIndex;
	if(sIndex2!=0) {
		for(i=1,sIndex=searchForm.cate1.selectedIndex,cnt=CATEname[sIndex][sIndex2].slice(1).length;i<=cnt;i++){	
			if(typeof(CATEname[sIndex][sIndex2][i][0])!='undefined') { 		
			searchForm.cate3.options[i]=new Option(CATEname[sIndex][sIndex2][i][0],CATEnum[sIndex][sIndex2][i][0]);		
			
			}
		}   
		searchForm.seccate.value = searchForm.cate2.value;	
	}
	else searchForm.seccate.value = searchForm.cate1.value;
}

searchForm.cate3.onchange=function(e){
	for(i=searchForm.cate4.length;i>0;i--){
		searchForm.cate4.options[i]=null;
	}

	sIndex3 = searchForm.cate3.selectedIndex;
	if(sIndex3!=0) {
		for(i=1,sIndex=searchForm.cate1.selectedIndex,sIndex2=searchForm.cate2.selectedIndex,cnt=CATEname[sIndex][sIndex2][sIndex3].slice(1).length;i<=cnt;i++){
			if(typeof(CATEname[sIndex][sIndex2][sIndex3][i])!='undefined') searchForm.cate4.options[i]=new Option(CATEname[sIndex][sIndex2][sIndex3][i],CATEnum[sIndex][sIndex2][sIndex3][i]);
		}
		searchForm.seccate.value = searchForm.cate3.value;	
	}
	else searchForm.seccate.value = searchForm.cate2.value;
}

searchForm.cate4.onchange=function(e){
	sIndex=searchForm.cate4.selectedIndex;   
	if(sIndex!=0) searchForm.seccate.value = searchForm.cate4.value;	
	else searchForm.seccate.value = searchForm.cate3.value;
}

searchForm.field.value = "p_name";
searchForm.limit.value = "{{limit}}";

<!-- DYNAMIC @is_seccate@ -->
searchForm.cate1.value = "{{cate1}}";

for(i=1,sIndex=searchForm.cate1.selectedIndex,cnt=CATEname[sIndex].slice(1).length;i<=cnt;i++){
	if(CATEname[sIndex][i][0]) searchForm.cate2.options[i]=new Option(CATEname[sIndex][i][0],CATEnum[sIndex][i][0]);
	else searchForm.cate2.options[i]=new Option(CATEname[sIndex][i],CATEnum[sIndex][i]);
}

searchForm.cate2.value = "{{cate2}}";

for(i=1,sIndex=searchForm.cate1.selectedIndex,sIndex2=searchForm.cate2.selectedIndex,cnt=CATEname[sIndex][sIndex2].slice(1).length;i<=cnt;i++){	
	if(typeof(CATEname[sIndex][sIndex2][i])!='undefined') { 		
	searchForm.cate3.options[i]=new Option(CATEname[sIndex][sIndex2][i],CATEnum[sIndex][sIndex2][i]);		
	}
}

searchForm.cate3.value = "{{cate3}}";

for(i=1,sIndex=searchForm.cate1.selectedIndex,sIndex2=searchForm.cate2.selectedIndex,sIndex3=searchForm.cate3.selectedIndex,cnt=CATEname[sIndex][sIndex2][sIndex3].slice(1).length;i<=cnt;i++){	
	if(typeof(CATEname[sIndex][sIndex2][sIndex3][i])!='undefined') { 		
	searchForm.cate4.options[i]=new Option(CATEname[sIndex][sIndex2][sIndex3][i],CATEnum[sIndex][sIndex2][sIndex3][i]);		
	}
}

searchForm.cate4.value = "{{cate4}}";
searchForm.seccate.value = "{{seccate}}";
<!-- DYNAMIC @is_seccate@ -->

searchForm.order.value = "{{order}}";

//-->
</SCRIPT>