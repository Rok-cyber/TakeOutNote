<SCRIPT LANGUAGE="JavaScript">
<!--

function putDay(date1,date2) {
	f = document.searchForm;
	if(!date1) {
		f.sdate1.value = '';
		f.sdate2.value = '';
	} 
	else {
		f.sdate1.value = date1;
		f.sdate2.value = date2;
	}
}

function ckSearch(){
	f = document.searchForm;
	if(f.smoney1.value && !f.smoney2.value) {
		alert('상품가격 조건을 입력 하세요!');
		f.smoney2.focus();
		return false;
	}

	if(!f.smoney1.value && f.smoney2.value) {
		alert('상품가격 조건을 입력 하세요!');
		f.smoney1.focus();
		return false;
	}

	if(f.sdate1.value && !f.sdate2.value) {
		alert('등록일 조건을 입력 하세요!');
		f.sdate2.focus();
		return false;
	}

	if(!f.sdate1.value && f.sdate2.value) {
		alert('등록일 조건을 입력 하세요!');
		f.sdate1.focus();
		return false;
	}
		
	//f.s_qty.value='';
	if(f.cate1.value==' ==== 1차분류 ==== ') f.cate1.value='';
	if(f.cate2.value==' ==== 2차분류 ==== ') f.cate2.value='';
	if(f.cate3.value==' ==== 3차분류 ==== ') f.cate3.value='';
	if(f.cate4.value==' ==== 4차분류 ==== ') f.cate4.value='';

	f.submit();
	return false;
}


function chCheck(){
	frm = document.selectForm;
	for (j = 0;  j< frm.elements.length; j++) {
		if(frm.elements[j].name == 'item[]' && frm.elements[j].checked == true) { 
			frm.elements[j].checked = false;
		} 
		else {
			frm.elements[j].checked = true;
		}

	}
	return false;
}

function ckEnter(){
	if(event.keyCode==13) {
		return ckSearch();
	}
}

function cgValues(num) {
	if(!num) return;
	
	tmp_qty = eval("document.selectForm.qty_"+num);

	if(typeof(tmp_qty)!='undefined') {
		qty = tmp_qty.value;
		if(!qty) {
			alert('수량을 입력 하시기 바랍니다.');
			tmp_qty.focus();
			return;
		}
	}
	sequence = eval("document.selectForm.sequence_"+num+".value");

	window.location.href='goods_post.php?mode=cgVls{{addstring}}&qty='+qty+'&sequence='+sequence+'&uid='+num;
}


function ckChange(num){
	f = document.modForm;
	if(num==1) {
		if(!f.price.value) {
			alert('가격을 입력 하세요!');
			f.price.focus();
			return false;
		}
	}
	else if(num==2) {
		if(!f.name.value) {
			alert('문구를 입력 하세요!');
			f.name.focus();
			return false;
		}
	}
	else if(num==4) {
		if(!f.image1.value && !f.image2.value && !f.image3.value && !f.image4.value && !f.image5.value) {
			alert('변경할 이미지 사이즈를 입력 하세요');
			f.image1.focus();
			return false;
		}
	}
	else {
		if(!f.name1.value) {
			alert('변경할 문구를 입력 하세요!');
			f.name1.focus();
			return false;
		}		
	}
	f.mode2.value = num;
	f.submit();
	return false;
}
//-->
</SCRIPT>

<div class="mainBox2" id="mainContent">
	<div class="top">
		<div style="padding:9px 0 0 12px;">
			<div class='left'><img src="img/tm_goods_modify.gif" alt="일괄상품수정" /></div>
			<div class='left small' style='padding:8px 0 0 10px;'>등록된 상품정보를을 일괄 수정 할 수 있습니다.</div>			
		</div>					
	</div>
	<div class="content">
		<div class='content_top'></div>			
		<div style="padding:0 6px 0 6px;" id='mainHeight'>
			<div style='height:10px;overflow:hidden'>&nbsp;</div>		

<table border=0 cellpadding="0" cellspacing="0" width="99%" align=center>
<tr>
  <td colspan=2>
		<table border="0" cellpadding="0" cellspacing="0" width="100%" align="center" bgcolor='#EFEFEF' class="all">
		<form name="searchForm" method="get" action="{{ACTION}}" onsubmit='return false;'>
		<tr><td height='6'></td></tr>
		<tr>			
			<td height="28" style="padding-left:10px;">				
				<div class="boxText small orange">쇼핑분류</div> 	
				<div style='float:left;padding-left:6px;'>
					<input type="hidden" name="seccate">
					<select name="cate1"></select>
					<select name="cate2"></select>
					<select name="cate3"></select>
					<select name="cate4"></select>
				</div>
			</td>
		</tr>
		<tr>
			<td height="28" style="padding-left:10px;">					
				<div class="boxText small orange">상품가격</div>
				<div style='float:left;padding-left:6px;padding-right:10px;'> 
					<input type="text" class="bt2 eng" size="8" name="smoney1" value="{{smoney1}}" onkeydown="ckNum(this);" onkeyup="ckNum(this);" maxlength="10"> ~  <input type="text" class="bt2 eng"  size="8" name="smoney2" value="{{smoney2}}" onkeydown="ckNum(this);" onkeyup="ckNum(this);" maxlength="10">
				</div>				
				<div class="boxText small orange">상품등록일</div> 
				<div style='float:left;padding-left:6px;'>
					<input type="text" onfocus="new CalendarFrame.Calendar(this)" class="bt2 eng" size="10" name="sdate1" value="{{sdate1}}"> ~  <input type="text" onfocus="new CalendarFrame.Calendar(this)"  class="bt2 eng"  size="10" name="sdate2" value="{{sdate2}}">
					<img src="../html/img/btn_day1.gif" class="hand" onclick="putDay('{{DAY1}}','{{DAY1}}')" align="absmiddle">
					<img src="../html/img/btn_day2.gif" class="hand" onclick="putDay('{{DAY2}}','{{DAY1}}')" align="absmiddle">
					<img src="../html/img/btn_day3.gif" class="hand" onclick="putDay('{{DAY3}}','{{DAY1}}')" align="absmiddle">
					<img src="../html/img/btn_day4.gif" class="hand" onclick="putDay('{{DAY4}}','{{DAY1}}')" align="absmiddle">
					<img src="../html/img/btn_day6.gif" class="hand" onclick="putDay('{{DAY5}}','{{DAY1}}')" align="absmiddle">
					<img src="../html/img/btn_day7.gif" class="hand" onclick="putDay('','')" align="absmiddle">				
				</div>
				<div id="CalendarLayer" style="display:none; width:172px; height:175px">
					<iframe name="CalendarFrame" src="../html/calendar.html" width="172" height="175" border="0" frameborder="0" scrolling="no"></iframe>
				</div>
			</td>
		</tr>
		<tr>
			<td height="28" style="padding-left:10px;">
				<div class="boxText small orange">검색어</div> 
				<div style='float:left;padding-left:6px;padding-right:10px;'> 
					<select name="field">
					   <option value='name'>상품명</option>
					   <option value='model'>모델명</option>
					   <option value='tag'>태그명</option>
					   <option value='multi'>통합</option>
					</select>
					<input type=text name='word' size="50" value="{{word}}" class="bt2" onkeydown="ckEnter();">
				</div>
				<div class="boxText small orange">브랜드</div> 
				<div style='float:left;padding-left:6px;padding-right:10px;'> 
					<select name='brands'>
					    <option value=''>전체</option>
						{{BRAND_LIST}}						
					</select>
				</div>	
			</td>
		</tr>
		<tr>
			<td height="28" style="padding-left:10px;">				
				<div class="boxText small orange">재고상태</div> 
				<div style='float:left;padding-left:6px;padding-right:10px;'> 
					<select name='s_qty'>
						<option value=''>전체</option>
						<option value='1'>무제한</option>
						<option value='2'>품절</option>
						<option value='3'>상품숨김</option>
						<option value='4'>한정판매</option>
					</select>
				</div>
				<div class="boxText small orange">정렬</div> 
				<div style='float:left;padding-left:6px;padding-right:10px;'> 
					<select name="order">
						<option value="uid DESC">등록일↓</option>
						<option value="uid ASC">등록일↑</option>
						<option value="moddate DESC">수정일↓</option>
						<option value="moddate ASC">수정일↑</option>
						<option value="name DESC">상품명↓</option>
						<option value="name ASC">상품명↑</option>
						<option value="price DESC">가격↓</option>
						<option value="price ASC">가격↑</option>
					</select>
					
				</div>
				<div class="boxText small orange">출력수</div> 
				<div style='float:left;padding-left:6px;padding-right:10px;'> 
					<select name="limit">
						<option value="10">10개</option>
						<option value="20">20개</option>
						<option value="30">30개</option>
						<option value="50">50개</option>
						<option value="100">100개</option>
					</select>					
				</div>

				<div id="sBtn1" style="padding-left:6px;">
					<a href="#" onclick="return ckSearch();"><span class="green">검색하기</span></a>
					<a href="{{CANCEL}}"><span class="green">초기화</span></a>
				</div>

			</td>
		</tr>
		<tr><td height='4'></td></tr>
		</form>
		</table>
  </td>	
</tr>
<tr><td height=20 colspan=2></td></tr>
<tr height=20>
	<td width=30% class="small"> &nbsp;검색된 상품수 : <font class="eng">{{TOTAL}}</font>건 &nbsp;&nbsp;<font class="eng">{{PAGE}}</font> 페이지.</FONT></td>
	<td></td>
</tr>
<tr>
	<td colspan=2>
	<!-- 게시판 리스트 start -->
		<TABLE border=0 cellpadding=0 cellspacing=4 width=100% bgcolor=#EEEEEE>
		<TR>
			<TD>
				<table border=0 cellpadding=0 cellspacing=0 width=100% bgcolor=#999999>
				<tr>
					<td align=center>
						<table border=0 cellpadding="0" cellspacing="1" width="100%" align=center>
						<tr height=24>
							<td width=5% align=center class=gr_bg><font class="bTitle small">번호</font></td>
							<td width=8% align=center class=gr_bg><font class="bTitle small">이미지</font></td>
							<td align=center class=gr_bg><font class="bTitle small">상품명/수량/적립금</font></td>
							<td width=16% align=center class=gr_bg><font class="bTitle small">브랜드</font></td>
							<td width=10% align=center class=gr_bg><font class="bTitle small">판매가격</font></td>
							<td width=10% align=center class=gr_bg><font class="bTitle small">소비자가격</font></td>
						</tr>
						<form method="post" name='selectForm' action="goods_post.php?mode=modAll{{addstring}}">
						<!-- DYNAMIC @loop@ -->
						<input type="hidden" name="item[]" value="{{UID}}" />
						<tr  align="center" height="60" bgcolor="{{BGCOLOR}}" onMouseOver="this.style.backgroundColor='#efefef'" onMouseOut="this.style.backgroundColor=''">
							<td class="eng">{{NUM}}</td>							
							<td><a href='{{SMain}}?channel=view&cate={{CATE}}&uid={{UID}}' target='_blank' title='쇼핑몰 상세설명 보기'>{{LIST2}}</a></td>
							<td align="left" style="padding-left:6px;">
								<div>
									<div style="float:left;width:0px;height:79px"></div>
									<div style="float:left">
										<div style='padding-top:4px;'><input type="text" class="ta" name="name_{{UID}}" value="{{LIST3}}" size="60" /></div>
										<div style='padding-top:8px;'><input type='radio' name='dsp1_{{UID}}' id='dsp1_{{UID}}_1' value='1' onclick='document.selectForm.qty_{{UID}}.disabled=true;' {{DSP11}} /><label for='dsp1_{{UID}}_1'>무제한</label>&nbsp;<input type='radio' name='dsp1_{{UID}}' id='dsp1_{{UID}}_2' value='2' onfocus='blur();' onclick='document.selectForm.qty_{{UID}}.disabled=true;' {{DSP12}} /><label for='dsp1_{{UID}}_2'>품절</label>&nbsp;<input type='radio' name='dsp1_{{UID}}' id='dsp1_{{UID}}_3' value='3' onfocus='blur();' onclick='document.selectForm.qty_{{UID}}.disabled=true;' {{DSP13}} /><label for='dsp1_{{UID}}_3'>상품숨김</label>&nbsp;<input type='radio' name='dsp1_{{UID}}' id='dsp1_{{UID}}_4' value='4' onfocus='blur();' onclick='document.selectForm.qty_{{UID}}.disabled=false;' {{DSP14}} /><label for='dsp1_{{UID}}_4'>한정판매</label>
										<input type='text' name='qty_{{UID}}' size="5" class="ta2 eng" onkeydown="onlyNum(this);" onkeyup="onlyNum(this);" maxlength=5 {{DISA1}} value="{{qty}}" />
										</div>
										<div style='padding-top:4px;'><input type='radio' name='dsp2_{{UID}}' id='dsp2_{{UID}}_1' value='1' onclick='document.selectForm.reserve_{{UID}}.disabled=true;' {{DSP21}} /><label for='dsp2_{{UID}}_1'>없음</label>&nbsp;&nbsp;&nbsp;<input type='radio' name='dsp2_{{UID}}' id='dsp2_{{UID}}_2' value='2' onfocus='blur();' onclick='document.selectForm.reserve_{{UID}}.disabled=true;' {{DSP22}} /><label for='dsp2_{{UID}}_2'>쇼핑몰 환경정책</label>&nbsp;&nbsp;<input type='radio' name='dsp2_{{UID}}' id='dsp2_{{UID}}_3' value='3' onfocus='blur();' onclick='document.selectForm.reserve_{{UID}}.disabled=false;' {{DSP23}} /><label for='dsp2_{{UID}}_3'>별도책정</label>
										<input type='text' name='reserve_{{UID}}' size="5" class="ta2 eng" onkeydown="onlyNum(this);" onkeyup="onlyNum(this);" maxlength=5 {{DISA2}} value="{{reserve}}" />
										</div>
									</div>
								</div>	
								<!-- DYNAMIC @is_op@ -->
								<div style="clear:both;padding:10px 0;">
									<table width='99%' border="0" cellspacing="0" cellpadding="0">
									<tr align="center" height=26>
										<td width="8%" bgcolor="#EFEFEF" class="b_left b_op1"><font class="bTitle small">NO</font></td>
										<td width="20%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">옵션명</font></td>
										<td bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">옵션항목</font></td>
										<td width="20%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">추가금액</font></td>
										<td width="15%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">재고</font></td>										
									</tr>
									<!-- DYNAMIC @loop_op@ -->	
									<tr height="26">
										<td class="eng b_op2 b_left" align="center">
											{{opNum}}
											<input type="hidden" name="op_uid_{{UID}}[]" value="{{opUid}}" />
										</td>
										<td class="b_op2" align="center"><input type="text" name="opType1_{{opUid}}" style="width:90%" class="ta" value="{{opType1}}"></td>
										<td class="b_op2" align="center"><input type="text" name="opType2_{{opUid}}" style="width:90%" class="ta" value="{{opType2}}"></td>
										<td class="b_op2" align="center"><input type="text" name="opPrice_{{opUid}}" style="width:90%" class="ta" value="{{opPrice}}"></td>
										<td class="b_op2" align="center"><input type="text" name="opQty_{{opUid}}" style="width:90%" class="ta" value="{{opQty}}"></td>
									</tr>
									<!-- DYNAMIC @loop_op@ -->
									</table>
								</div>
								<!-- DYNAMIC @is_op@ -->
							</td>
							<td><input type="text" class="ta" name="brand_{{UID}}" value="{{LIST4}}" size="17" /></td>
							<td><input type="text" class="ta2 eng" onkeyup="onlyNum(this);" onkeydown="onlyNum(this);"  name="price_{{UID}}" value="{{LIST5}}" size="8" /></td>
							<td><input type="text" class="ta2 eng" onkeyup="onlyNum(this);" onkeydown="onlyNum(this);"  name="consumer_price_{{UID}}" value="{{LIST6}}" size="8" /></td>							
						</tr>
						<!-- DYNAMIC @loop@ -->
						<!-- DYNAMIC @is_loop@ -->
						<tr height=100>
							<td align=center colspan=8 bgcolor=#ffffff>등록(검색)된 상품이 없습니다.</td>
						</tr>
						<!-- DYNAMIC @is_loop@ -->
						</form>
						</table>
					</td>
				</tr>
				</table>
			</td>
		</tr>
		</table>
		<!-- 게시판 리스트 end -->
	</td>
</tr>
<tr><td height=8 colspan=2></td></tr>
<tr>
     <td colspan=2>
	 <!-- 페이징,검색... start -->
	 <table border = 0 cellspacing=0 cellpadding=0 width=100%>
	 <tr>
		<td width=39%>	       
		   <div id="sBtn1" style="padding-left:6px;">
				<a href="#" onclick="document.selectForm.submit();return false;"><span class="blue">상품정보 일괄 수정하기</span></a>
			</div>
		</td>
	    <td align=right id="paging">{{PAGING}}</td>
	 </tr>
	 </table>
	 <!-- 페이징,검색... end -->
	 </td>
</tr>
<tr><td height=30 colspan=2></td></tr>
<tr><td height=10></td></tr>
<tr><td><img src="img/ttl_goods_all_modify.gif" border=0 align=absmiddle></td></tr>
<tr><td height=8></td></tr>
<tr>
  <td colspan=2>
		<table border="0" cellpadding="0" cellspacing="0" width="100%" align="center" bgcolor='#EFEFEF' class="all">
		<form name="modForm" method="post" action="goods_post.php?mode=change" onsubmit='return false;'>
		<input type="hidden" name="mode2" />
		<tr><td height='6'></td></tr>
		<tr>			
			<td height="32" style="padding-left:10px;">				
				<div class="boxText small orange">상품가격</div> 	
				<div style='float:left;padding:0 10px 0 6px;'>
					<select name="type1">
						<option value="+">+</option>
						<option value="-">-</option>
					</select>
					<input type="text" class="bt2 eng" size="8" name="price" onkeydown="ckNum(this);" onkeyup="ckNum(this);" maxlength="10" />원
				</div>
				<div id="sBtn1">
					<a href="#" onclick="return ckChange(1);"><span class="green">전체상품 일괄수정하기</span></a>
				</div>
				<div style='float:left;padding:4px 0 0 10px;' class="small">
					(상품가격에 해당가격을 더하거나 뺀가격으로 일괄 수정 합니다.)&nbsp;
				</div>

			</td>
		</tr>		
		<tr>			
			<td height="32" style="padding:8px 0 0 10px;">				
				<div class="boxText small orange">상품명추가</div> 	
				<div style='float:left;padding:0 10px 0 6px;'>
					<select name="type2">
						<option value="-">앞</option>
						<option value="+">뒤</option>
					</select>
					<input type="text" class="bt2" size="44" name="name" />
				</div>
				<div id="sBtn1">
					<a href="#" onclick="return ckChange(2);"><span class="green">전체상품 일괄추가하기</span></a>
				</div>
				<div style='float:left;padding:4px 0 0 10px;' class="small">
					(상품명 앞, 귀에 들어갈 문구가 일괄 추가 합니다.)&nbsp;
				</div>

			</td>
		</tr>		
		<tr>			
			<td height="32" style="padding:8px 0 0 10px;">				
				<div class="boxText small orange">상품명변경</div> 	
				<div style='padding:0 10px 0 6px;' class="left small">
					변경할 문구 : <input type="text" class="bt2" size="30" name="name1" />
				</div>
				<div id="sBtn1">
					<a href="#" onclick="return ckChange(3);"><span class="green">전체상품 일괄변경하기</span></a>
				</div>
				<div style='clear:both;padding:0 10px 0 66px;' class="clear left small">					
					변경될 문구 : <input type="text" class="bt2" size="30" name="name2" />
				</div>
				<div style='float:left;padding:4px 0 0 3px;' class="small">
					(상품명중 특정문구를 일괄 변경할 수 있습니다.)&nbsp;
				</div>

			</td>
		</tr>		
		<tr>			
			<td height="32" style="padding:8px 0 0 10px;">				
				<div class="boxText small orange">이미지변경</div> 	
				<div style='float:left;padding:0 10px 0 6px;' class="small">
					큰이미지 : <input type="text" class="bt2" size="4" name="image1" />px&nbsp;&nbsp;
					중간이미지 : <input type="text" class="bt2" size="4" name="image2" />px&nbsp;&nbsp;
					리스트이미지 : <input type="text" class="bt2" size="4" name="image3" />px&nbsp;&nbsp;
					작은이미지 : <input type="text" class="bt2" size="4" name="image4" />px&nbsp;&nbsp;
					디스플래이이미지 : <input type="text" class="bt2" size="4" name="image5" />px&nbsp;&nbsp;
					<br /><input type="checkbox" name="auto" value="Y" /> 큰이미지 이용
				</div>
				<div id="sBtn1" style='clear:both;padding:4px 10px 0 66px;'>
					<a href="#" onclick="return ckChange(4);"><span class="green">전체상품 일괄변경하기</span></a>
				</div>
				<div style='clear:both;padding:4px 10px 0 66px;' class="small">
					(이미지 사이즈는 가로 사이즈 기준입니다. 큰이미지 이용에 체크를 하시면 큰이미지를 이용해서 다른 이미지들을 해당 사이즈로 변경합니다.)&nbsp;<br />
					! 사용스킨 권장 사이즈 - 큰이미지 : {{ISIZE1}}px, 중간이미지 : {{ISIZE2}}px, 리스트이미지 : {{ISIZE3}}px, 작은이미지 : {{ISIZE4}}px, 디스플래이이미지 : {{ISIZE5}}px
					
				</div>
			</td>
		</tr>		
		<tr><td height='4'></td></tr>
		</form>
		</table>
  </td>	
</tr>
<tr><td height=20 colspan=2></td></tr>
</table>

			</div>
		</div>
		<div class="bottom"></div>
		</span>		
	</div>
</div>

<script>

{{tmps1}}
{{tmps2}}

for(i=0,cnt=CATEname.length;i<cnt;i++){
    searchForm.cate1.options[i]=new Option(CATEname[i][0],CATEnum[i][0]);	
}

searchForm.cate2.options[0]=new Option(CATEname[0][1][0],CATEname[0][1][0])
searchForm.cate3.options[0]=new Option(CATEname[0][1][1][0],CATEname[0][1][1][0])
searchForm.cate4.options[0]=new Option(CATEname[0][1][1][1],CATEname[0][1][1][1])

searchForm.cate1.onchange=function(e){
	for(i=searchForm.cate2.length;i>0;i--){
		searchForm.cate2.options[i]=null;
	}
	for(i=searchForm.cate3.length;i>0;i--){
		searchForm.cate3.options[i]=null;
	}
	for(i=searchForm.cate4.length;i>0;i--){
		searchForm.cate4.options[i]=null;
	}
	
	sIndex = searchForm.cate1.selectedIndex;
	if(sIndex!=0) {
		for(i=1,cnt=CATEname[sIndex].slice(1).length;i<=cnt;i++){
			if(CATEname[sIndex][i][0]) searchForm.cate2.options[i]=new Option(CATEname[sIndex][i][0],CATEnum[sIndex][i][0]);
			else searchForm.cate2.options[i]=new Option(CATEname[sIndex][i],CATEnum[sIndex][i]);
		}
	}
	searchForm.seccate.value = searchForm.cate1.value;	
}

searchForm.cate2.onchange=function(e){
	for(i=searchForm.cate3.length;i>0;i--){
		searchForm.cate3.options[i]=null;
	}	
	for(i=searchForm.cate4.length;i>0;i--){
		searchForm.cate4.options[i]=null;
	}
	
	sIndex2 = searchForm.cate2.selectedIndex;
	if(sIndex2!=0) {
		for(i=1,sIndex=searchForm.cate1.selectedIndex,cnt=CATEname[sIndex][sIndex2].slice(1).length;i<=cnt;i++){	
			if(typeof(CATEname[sIndex][sIndex2][i][0])!='undefined') { 		
			searchForm.cate3.options[i]=new Option(CATEname[sIndex][sIndex2][i][0],CATEnum[sIndex][sIndex2][i][0]);		
			
			}
		}   
		searchForm.seccate.value = searchForm.cate2.value;	
	}
	else searchForm.seccate.value = searchForm.cate1.value;
}

searchForm.cate3.onchange=function(e){
	for(i=searchForm.cate4.length;i>0;i--){
		searchForm.cate4.options[i]=null;
	}

	sIndex3 = searchForm.cate3.selectedIndex;
	if(sIndex3!=0) {
		for(i=1,sIndex=searchForm.cate1.selectedIndex,sIndex2=searchForm.cate2.selectedIndex,cnt=CATEname[sIndex][sIndex2][sIndex3].slice(1).length;i<=cnt;i++){
			if(typeof(CATEname[sIndex][sIndex2][sIndex3][i])!='undefined') searchForm.cate4.options[i]=new Option(CATEname[sIndex][sIndex2][sIndex3][i],CATEnum[sIndex][sIndex2][sIndex3][i]);
		}
		searchForm.seccate.value = searchForm.cate3.value;	
	}
	else searchForm.seccate.value = searchForm.cate2.value;
}

searchForm.cate4.onchange=function(e){
	sIndex=searchForm.cate4.selectedIndex;   
	if(sIndex!=0) searchForm.seccate.value = searchForm.cate4.value;	
	else searchForm.seccate.value = searchForm.cate3.value;
}

searchForm.s_qty.value = "{{s_qty}}";
searchForm.field.value = "{{field}}";
searchForm.brands.value = "{{brands}}";
searchForm.order.value = "{{order}}";
searchForm.limit.value = "{{limit}}";


<!-- DYNAMIC @is_seccate@ -->
searchForm.cate1.value = "{{cate1}}";

for(i=1,sIndex=searchForm.cate1.selectedIndex,cnt=CATEname[sIndex].slice(1).length;i<=cnt;i++){
	if(CATEname[sIndex][i][0]) searchForm.cate2.options[i]=new Option(CATEname[sIndex][i][0],CATEnum[sIndex][i][0]);
	else searchForm.cate2.options[i]=new Option(CATEname[sIndex][i],CATEnum[sIndex][i]);
}

searchForm.cate2.value = "{{cate2}}";

for(i=1,sIndex=searchForm.cate1.selectedIndex,sIndex2=searchForm.cate2.selectedIndex,cnt=CATEname[sIndex][sIndex2].slice(1).length;i<=cnt;i++){	
	if(typeof(CATEname[sIndex][sIndex2][i][0])!='undefined') { 		
	searchForm.cate3.options[i]=new Option(CATEname[sIndex][sIndex2][i][0],CATEnum[sIndex][sIndex2][i][0]);		
	}
}

searchForm.cate3.value = "{{cate3}}";

for(i=1,sIndex=searchForm.cate1.selectedIndex,sIndex2=searchForm.cate2.selectedIndex,sIndex3=searchForm.cate3.selectedIndex,cnt=CATEname[sIndex][sIndex2][sIndex3].slice(1).length;i<=cnt;i++){	
	if(typeof(CATEname[sIndex][sIndex2][sIndex3][i])!='undefined') { 		
	searchForm.cate4.options[i]=new Option(CATEname[sIndex][sIndex2][sIndex3][i],CATEnum[sIndex][sIndex2][sIndex3][i]);		
	}
}

searchForm.cate4.value = "{{cate4}}";

searchForm.seccate.value = "{{seccate}}";
<!-- DYNAMIC @is_seccate@ -->

</script>