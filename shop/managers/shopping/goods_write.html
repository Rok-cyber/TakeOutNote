<SCRIPT LANGUAGE="JavaScript">
<!--

<!-- DYNAMIC @is_write1@ -->
/* 분류 배열지정*/
{{tmps1}}
{{tmps2}}
/* 분류배열지정*/
<!-- DYNAMIC @is_write1@ -->

var tmp_sgoods = new Array();

function ck_display(num,st) {
	var form = document.goodsForm; 
	for (i = cnt = 0; i < form.elements.length; i++) {
			eval("if(form.elements[i].name == 'dsp"+num+"[]' && form.elements[i].value!=st )  form.elements[i].checked = false; ")
			eval("if(form.elements[i].name == 'dsp"+num+"[]' && form.elements[i].value==st )  form.elements[i].checked = true; ")
	}
}

function tagFocus(){
	if(document.goodsForm.tag.value==tagDefault) document.goodsForm.tag.value='';
}

function tagSec(str){
	var f = document.goodsForm.tag;	
	tagFocus();

	if(f.value != '' && f.value.charAt(f.value.length-1) != ',')
		f.value+=',';
	f.value += str;
	tagCheck(true);
}

function tagCheck(check){
	var f = document.goodsForm.tag;	
	var tagList = f.value.split(",");
	var tagNum  = tagList.length;
	var result  = tagCheck2(tagList[0]);
	var dupli   = true;
	

	if( tagNum > tagMaxItems){
		tagNum = tagMaxItems;
		check=true;
	}
    
	if(tagList[tagNum-1]=='') check = true;
	if(tagNum==1 || !check) return;

	for(i=1;i<tagNum;i++){
		tagList[i] = tagCheck2(tagList[i]);		
		if(tagList[i]=='' && i!=tagNum-1) continue;
		dupli = true;
		for(var j=0; j<i; j++){
			if(tagList[i] == tagList[j]) {
				dupli = false;
				break;
			}
		}		
		if(dupli) result += ','+tagList[i];		
	}
	f.value = result;	
}

function tagCheck2 (tag){
	var NewTag = "";
	for(var i=0;i<tag.length;i++)
		if (tagFilter.indexOf(tag.charAt(i)) == -1) NewTag += tag.charAt(i);
	tag = NewTag;

	if (tag.length>tagMaxLength)
		tag = tag.substring(0, tagMaxLength);
	return tag;
}


function secGoods(str,ck) {
	if(!str) return;

	aObj = new AjaxObject; 
	tmps = str.split(',');
	tmps2 = ''; 
		
	for(i=0;i<tmps.length;i++){
		cnt = tmp_sgoods.length;
		cks = 0;
		if(tmps[i]) {
			for(j=0;j<cnt;j++) {
				if(tmps[i]==tmp_sgoods[j]) {
					cks = 1;
					break;
				}
			}
			
			if(cks==0) {				
				tmp_sgoods[cnt] = tmps[i];	
				if(!tmps2) tmps2 = tmps[i];
				else tmps2 += ','+tmps[i];	
			}
		}
	}
	if(tmps2) aObj.getHttpRequest("goodsInfo.php?uid="+tmps2, "addGoods","data"); 
	if(!ck) pLightBox.hide();	
}

function addGoods(data){
	if(typeof(data['error'])!='undefined') {
		alert("리스트를 가져오는 중 에러가 발생했씁니다.");
		return;
	}

	if(typeof(data['item'])=='undefined') return;
	var gList = document.getElementById("goodsList");
	
	for(i=0,cnt=data['item'].length;i<cnt;i++){		
		nList = document.createElement("div");
	
		iHtml =  '<div style="text-align:center"><a href="{{SMain}}?channel=view&uid='+data['item'][i]['uid']+'" target=_blank  title="쇼핑몰 상세설명 보기">'+data['item'][i]['image']+'</a></div>';
		iHtml += '<div style="padding-top:4px;height:26px;overflow:hidden"><a href="../shopping/goods_write.php?mode=modify&uid='+data['item'][i]['uid']+'" target=_blank  title="상품수정하기">'+data['item'][i]['name']+'</a></div>';
		iHtml += '<div class="eng green">'+data['item'][i]['price']+'원 &nbsp;<img src="../shopping/img/icon_del.gif" border="0" align="absmiddle" class="hand" onclick="delGoods('+data['item'][i]['uid']+');" /></div>';
		
		if(data['item'][i]['sout']!='') {
			iHtml += '<div style="position:relative;left:0px;top:-123px;width:36px;height:16px;border:1px solid #ff6600;background-color:#fff" class="small orange"><div style="padding:3px 8px 0 8px;">'+data['item'][i]['sout']+'</div></div>';
		}
		nList.id = "goods_" + data['item'][i]['uid'];	
		nList.className = 'small goodsDiv';
		nList.style.position = "relative";
		nList.innerHTML = iHtml;
		
		gList.appendChild(nList);
	}
	document.getElementById("noGoods").style.display = 'none';		
}

function delGoods(num) {
	if(!num) return;
	
	gList = document.getElementById("goodsList");
	element = document.getElementById('goods_'+num);
	
	element.innerHtml ='';
	gList.removeChild(element);
	
	if(isMsie) var cnt = gList.childNodes.length;
	else var cnt = gList.childNodes.length -2;

	for(i=0;i<tmp_sgoods.length;i++){
		if(tmp_sgoods[i]==num) tmp_sgoods[i]='';
	}
        
	if(cnt==1) {			
		document.getElementById("noGoods").style.display = 'block';	
	}			
}

var tmp_scate = new Array();

function msecCate(ck){
	var f = document.goodsForm;
	var cList = document.getElementById("cateList");
	var cnt = tmp_scate.length;
	var mcate = f.mseccate.value;
	var ckSub = 0;

	if(!mcate) {
		alert('전시 분류를 선택 하세요');
		return false;
	}
		
	for(i=0;i<cnt;i++) {
		if(tmp_scate[i]==mcate) {
			alert('이미 선택하신 분류 입니다.');
			return false;
		}		
	}

	if(mcate.substr(3,3)=='000' && f.mcate1.options[f.mcate1.selectedIndex].text.indexOf("→")!=-1) ckSub = 1;
	else if(mcate.substr(6,3)=='000' && f.mcate2.options[f.mcate2.selectedIndex].text.indexOf("→")!=-1) ckSub = 1;
	else if(mcate.substr(9,3)=='000' && f.mcate3.options[f.mcate3.selectedIndex].text.indexOf("→")!=-1) ckSub = 1;
	
	if(ckSub==1) {
		alert('하위분류가 존재하는 분류입니다!\n하위분류를 지정해주시고,\n\n하위분류가 생성되지 않았으면\n하위분류를 생성후 선택하세요!');
		f.mcate1.focus();
		return false;
	}
    
	cName = "- " + f.mcate1.options[f.mcate1.selectedIndex].text;
	if(f.mcate2.selectedIndex!=0) cName += ' > '+f.mcate2.options[f.mcate2.selectedIndex].text;
	if(f.mcate3.selectedIndex!=0) cName += ' > '+f.mcate3.options[f.mcate3.selectedIndex].text;
	if(f.mcate4.selectedIndex!=0) cName += ' > '+f.mcate4.options[f.mcate4.selectedIndex].text;

	cName = str_replace("→","",cName);
	
	cName = cName + '&nbsp;&nbsp;<img src="img/icon_del.gif" border="0" align="absmiddle" class="hand" onclick="mdelCate('+mcate+');" />';

	var nList = document.createElement("div");
	nList.id = "list_"+mcate;	
	nList.style.height = '18px';
	nList.className = 'small';
	nList.style.padding = '6px 0 0 6px';
	nList.innerHTML = cName;
    
	cList.appendChild(nList);
	cnts = cList.childNodes.length;
	
	tmp_scate[cnt] = mcate;

	if(cnts==1) cList.style.display = 'block';	
	return false;
}

function mdelCate(num) {
	if(!num) return;
	cList = document.getElementById("cateList");
	element = document.getElementById('list_'+num);

	element.innerHtml ='';
	cList.removeChild(element);
	
	for(i=cnt=0;i<tmp_scate.length;i++){
		if(tmp_scate[i]==num) tmp_scate[i]='';
		if(tmp_scate[i]) cnt++;
	}
        
	if(cnt==0) {			
		cList.style.display='none';	
	}	
}

var tmp_sspecial = new Array();

function secSpecial(ck){
	var f = document.goodsForm;
	var cList = document.getElementById("specialList");
	var cnt = tmp_sspecial.length;
	var special = f.special_list.value;
	var ckSub = 0;

	if(!special) {
		alert('기획전을 선택 하세요');
		return false;
	}
		
	for(i=0;i<cnt;i++) {
		if(tmp_sspecial[i]==special) {
			alert('이미 선택하신 기획전 입니다.');
			return false;
		}		
	}

	cName = "- " + f.special_list.options[f.special_list.selectedIndex].text;	
	cName = cName + '&nbsp;&nbsp;<img src="img/icon_del.gif" border="0" align="absmiddle" class="hand" onclick="delSpecial('+special+');" />';

	var nList = document.createElement("div");
	nList.id = "special_"+special;	
	nList.style.height = '18px';
	nList.className = 'small';
	nList.style.padding = '6px 0 0 6px';
	nList.innerHTML = cName;
    
	cList.appendChild(nList);
	cnts = cList.childNodes.length;
	
	tmp_sspecial[cnt] = special;

	if(cnts==1) cList.style.display = 'block';	
	return false;
}

function delSpecial(num) {
	if(!num) return;
	cList = document.getElementById("specialList");
	element = document.getElementById('special_'+num);

	element.innerHtml ='';
	cList.removeChild(element);
	
	for(i=cnt=0;i<tmp_sspecial.length;i++){
		if(tmp_sspecial[i]==num) tmp_sspecial[i]='';
		if(tmp_sspecial[i]) cnt++;
	}
        
	if(cnt==0) {			
		cList.style.display='none';	
	}		
}

/*************************  옵션 상품 관리 ***************************/

var opCnt = 0;
var opCntInc = 0;
var opSec = 0;

function opAdd(opType1,opType2,opPrice,opDisplay,opQty,opCode,opUid,ck){
	var opList = document.getElementById("opList");	
	
	if(!opType1) {
		if(document.goodsForm.option_default.value) opType1 = document.goodsForm.option_default.value;
		else opType1 = '';
	}
	if(!opType2) opType2 = '';
	if(!opPrice) opPrice = 0;
	if(!opQty) opQty = 9999;
	if(!opCode) opCode = '';
	if(!opUid) opUid = '';

	opCnt++;
	opCntInc++;
	newRow = document.createElement('TR');	
	
	newCell = document.createElement('TD');	
	newCell.innerHTML = opCnt;
	newCell.className = "eng b_op2 b_left";
	newCell.id = "opList_num_"+opCntInc;	
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="checkbox" name="opItem[]" value="'+opCntInc+'">';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="text" name="opType1[]" style="width:92%" class="ta" value="'+opType1+'">';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="text" name="opType2[]" style="width:95%" class="ta" value="'+opType2+'">';
	newRow.appendChild(newCell);
	
	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="text" name="opPrice[]" style="width:90%" class="ta2 eng" onkeyup="onlyNum(this);" onkeydown="onlyNum(this);" onfocus="this.select();"  value="'+opPrice+'">';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	if(opDisplay=='N') newCell.innerHTML = '<select name="opDisplay[]"><option value="Y">Y</option><option value="N" selected>N</option></select>';
	else newCell.innerHTML = '<select name="opDisplay[]"><option value="Y">Y</option><option value="N">N</option></select>';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="text" name="opQty[]" style="width:88%" class="ta2 eng" onkeyup="onlyNum(this);" onkeydown="onlyNum(this);" onfocus="this.select();" value="'+opQty+'" onblur="cgQty(this.value)">';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="text" name="opCode[]" style="width:92%" class="ta" value="'+opCode+'"><input type="hidden" name="opUid[]" class="ta" value="'+opUid+'">';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	if(opQty==0) newCell.innerHTML = '품절';
	else newCell.innerHTML = '정상';
	newCell.id = "opList_state_"+opCntInc;
	newRow.appendChild(newCell);	
	
	newRow.style.backgroundColor = "#FFF";
	newRow.style.height = '24px';
	newRow.id = "opList_"+opCntInc;
	newRow.num = opCntInc;
	newRow.onclick = function() {
		if(opSec!=0 && $("opList_"+opSec)) document.getElementById("opList_"+opSec).style.backgroundColor = '#fff';
		opSec = this.num; 
		this.style.backgroundColor = '#efefef';
	}
	opList.appendChild(newRow);

	if(opCnt==1) document.getElementById('opListNo').style.display='none';
	return false;
}

function opAll(){
	if(opCnt==0) return false;
	f = document.goodsForm;
	
	for (i=ck=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name == 'opItem[]') f.elements[i].checked = true;
	}
	return false;
}

function opDel(){
	if(opCnt==0) return false;
	var f = document.goodsForm;
	var opList = document.getElementById("opList");	
	var delList = new Array();
	
	for (i=j=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opItem[]' && f.elements[i].checked == true) {
			delList[j] = f.elements[i].value;
			j++;
		}
	}	

	if(j==0) {
		alert("삭제할 항목을 선택 하시기 바랍니다");
		return false;
	}

	for (i=0,cnt=delList.length;i<cnt;i++) {
		opList.removeChild(document.getElementById('opList_'+delList[i]));
	}


	opCnt = opCnt - j;

	if(opCnt==0) {
		document.getElementById('opListNo').style.display='block';
		return false;
	}
	
	for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opItem[]') {
			tmp = f.elements[i].value;
			document.getElementById("opList_num_"+tmp).innerHTML = j;		
			document.getElementById("opList_"+tmp).style.backgroundColor = '#fff';
			j++;
		}
	}

	opSec = 0;
	return false;	
}

function opSecMod(){
	if(opCnt==0) return false;
	var f = document.goodsForm;
	var secList = new Array();

	for (i=j=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opItem[]' && f.elements[i].checked == true) {
			secList[j] = f.elements[i].value;
			j++;
		}
	}	

	if(j==0) {
		alert("공통적용할 항목을 선택 하시기 바랍니다");
		return false;
	}

	for (i=0,cnt=secList.length;i<cnt;i++) {
		secListNum = document.getElementById("opList_num_"+secList[i]).innerHTML;			
		
		for (ii=0,c11=1,cnti=f.elements.length;ii<cnti;ii++) {
			if(f.elements[ii].name =='opDisplay[]') {
				if(c11==secListNum) {
					f.elements[ii].value = f.opDisplay2.value; 
					break;
				}
				else c11++;
			}
		}
		for (ii=0,c11=1,cnti=f.elements.length;ii<cnti;ii++) {
			if(f.elements[ii].name =='opQty[]') {
				if(c11==secListNum) {
					f.elements[ii].value = f.opQty2.value; 
					break;
				}
				else c11++;
			}
		}
		for (ii=0,c11=1,cnti=f.elements.length;ii<cnti;ii++) {
			if(f.elements[ii].name =='opCode[]') {
				if(c11==secListNum) {
					f.elements[ii].value = f.opCode2.value; 
					break;
				}
				else c11++;
			}
		}
	}
	
	f.opDisplay2.value = 'Y'; 
	f.opQty2.value = '';
	f.opCode2.value = ''; 
	return false;	
}

function opInit(){
	if(opCnt==0) return false;
	if(confirm('정말로 초기화 하겠습니다? 초기화 하시면 모든 항목이 삭제 됩니다.')){
		opAll();
		opDel();
	}
	return false;
}

function opQtys() {
	f = document.goodsForm;
	if($("dsp24").checked==false) { 
		alert("상품 재고량이 한정판매일 경우에만 가능 합니다.");
		return false;
	}

	var p_qty = 0;
	for (ii=0,c11=1,cnti=f.elements.length;ii<cnti;ii++) {
		if(f.elements[ii].name =='opQty[]') {
			p_qty = eval(p_qty) + eval(f.elements[ii].value);
		}
	}
	f.qty.value = p_qty;
	f.qty.focus();

	return false;
}

function opSort(mode){
	if(opSec==0) {
		alert("먼저 이동할 항목을 선택 하시기 바랍니다.");
		return false;
	}
	if(opCnt<2) return false;
	
	var f = document.goodsForm;

	switch(mode) {
		case "top" : 
			if(opSec==1) return false;
			for (ii=opSec;ii>1;ii--) {				
				cgOp((opSec-1),(opSec));
				opSec--;
				if(opSec==1) break;
			}	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem[]') {					
					tmp = f.elements[i].value;					
					if(opSec==j) document.getElementById("opList_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}			
		break;
		case "bottom" :
			if(opSec==opCnt) return false;
			for (ii=opSec;ii<opCnt;ii++) {				
				cgOp((opSec),(opSec+1));
				
				opSec++;
				if(opSec==opCnt) break;
			}	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem[]') {					
					tmp = f.elements[i].value;					
					if(opSec==j) document.getElementById("opList_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}
		break;
		case "down" : 
			if(opSec==opCnt) return false;
			cgOp(opSec,(opSec+1));
			
			opSec++;	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem[]') {					
					tmp = f.elements[i].value;					
					if(opSec==j) document.getElementById("opList_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}					
		break;

		case "up" : 
			if(opSec==1) return false;
			cgOp((opSec-1),opSec);
			
			opSec--;	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem[]') {					
					tmp = f.elements[i].value;					
					if(opSec==j) document.getElementById("opList_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}					
		break;


	}
	return false;	
}

function cgQty(vls){
	var f = document.goodsForm;
	var secNum = 0;
	
	for (i=0,c=1,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opItem[]') {
			if(c==opSec) {
				secNum = f.elements[i].value;			
				break;
			}
			else c++;
		}
	}
	if(secNum==0) return false;
	if(vls>0) document.getElementById("opList_state_"+secNum).innerHTML = "정상";			
	else document.getElementById("opList_state_"+secNum).innerHTML = "품절";			
}

function cgOp(num1,num2) {
	var f = document.goodsForm;
	var tmp1 = tmp2 = tmp3 = tmp4 = tmp5 = tmp6 = tmp7 = tmp8 = tmp9 = null;
	var tmp_num11 = tmp_num12 = tmp_num13 = tmp_num14 = tmp_num15 = tmp_num16 = tmp_num17 = null;
	var tmp_num21 = tmp_num22 = tmp_num23 = tmp_num24 = tmp_num25 = tmp_num26 = tmp_num27 = null;
	var c11 = c12 = c13 = c14 = c15 = c16 = c17 = c18 = 1
	var c21 = c22 = c23 = c24 = c25 = c26 = c27 = c28 = 1

	for (i=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opType1[]' && tmp_num11==null) {
			if(c11==num1) {
				tmp1 = f.elements[i].value;			
				tmp_num11 = i;				
			}
			else c11++;
		}
		if(f.elements[i].name =='opType2[]' && tmp_num12==null) {
			if(c12==num1) {
				tmp2 = f.elements[i].value;			
				tmp_num12 = i
			}
			else c12++;
		}
		if(f.elements[i].name =='opPrice[]' && tmp_num13==null) {
			if(c13==num1) {
				tmp3 = f.elements[i].value;			
				tmp_num13 = i
			}
			else c13++;
		}
		if(f.elements[i].name =='opDisplay[]' && tmp_num14==null) {
			if(c14==num1) {
				tmp4 = f.elements[i].value;			
				tmp_num14 = i
			}
			else c14++;
		}
		if(f.elements[i].name =='opQty[]' && tmp_num15==null) {
			if(c15==num1) {
				tmp5 = f.elements[i].value;			
				tmp_num15 = i
			}
			else c15++;
		}
		if(f.elements[i].name =='opCode[]' && tmp_num16==null) {
			if(c16==num1) {
				tmp6 = f.elements[i].value;			
				tmp_num16 = i
			}
			else c16++;
		}
		if(f.elements[i].name =='opUid[]' && tmp_num17==null) {
			if(c17==num1) {
				tmp7 = f.elements[i].value;			
				tmp_num17 = i
			}
			else c17++;
		}
		if(f.elements[i].name =='opItem[]' && tmp8==null) {
			if(c18==num1) {
				tmp8 = f.elements[i].value;			
			}
			else c18++;
		}
		

		if(f.elements[i].name =='opType1[]' && tmp_num21==null) {
			if(c21==num2) {
				tmp_num21 = i;
			}
			else c21++;
		}
		if(f.elements[i].name =='opType2[]' && tmp_num22==null) {
			if(c22==num2) {
				tmp_num22 = i
			}
			else c22++;
		}
		if(f.elements[i].name =='opPrice[]' && tmp_num23==null) {
			if(c23==num2) {
				tmp_num23 = i
			}
			else c23++;
		}
		if(f.elements[i].name =='opDisplay[]' && tmp_num24==null) {
			if(c24==num2) {
				tmp_num24 = i
			}
			else c24++;
		}
		if(f.elements[i].name =='opQty[]' && tmp_num25==null) {
			if(c25==num2) {
				tmp_num25 = i
			}
			else c25++;
		}
		if(f.elements[i].name =='opCode[]' && tmp_num26==null) {
			if(c26==num2) {
				tmp_num26 = i
			}
			else c26++;
		}
		if(f.elements[i].name =='opUid[]' && tmp_num27==null) {
			if(c27==num2) {
				tmp_num27 = i
			}
			else c27++;
		}
		if(f.elements[i].name =='opItem[]' && tmp9==null) {
			if(c28==num2) {
				tmp9 = f.elements[i].value;			
			}
			else c28++;
		}
	}
	
	f.elements[tmp_num11].value = f.elements[tmp_num21].value;
	f.elements[tmp_num12].value = f.elements[tmp_num22].value;
	f.elements[tmp_num13].value = f.elements[tmp_num23].value;
	f.elements[tmp_num14].value = f.elements[tmp_num24].value;
	f.elements[tmp_num15].value = f.elements[tmp_num25].value;
	f.elements[tmp_num16].value = f.elements[tmp_num26].value;
	f.elements[tmp_num17].value = f.elements[tmp_num27].value;

	f.elements[tmp_num21].value = tmp1;
	f.elements[tmp_num22].value = tmp2;
	f.elements[tmp_num23].value = tmp3;
	f.elements[tmp_num24].value = tmp4;
	f.elements[tmp_num25].value = tmp5;
	f.elements[tmp_num26].value = tmp6;
	f.elements[tmp_num27].value = tmp7;
	
	if(f.elements[tmp_num15].value>0) document.getElementById("opList_state_"+tmp8).innerHTML = "정상";			
	else document.getElementById("opList_state_"+tmp8).innerHTML = "품절";			

	if(f.elements[tmp_num25].value>0) document.getElementById("opList_state_"+tmp9).innerHTML = "정상";			
	else document.getElementById("opList_state_"+tmp9).innerHTML = "품절";			
	
}

/*************************  @옵션 상품 관리 ***************************/


/*************************  상품 필수 정보 관리 ***************************/

var opCnt2 = 0;
var opCntInc2 = 0;
var opSec2 = 0;

function opAdd2(type,opName1,opContent1,opName2,opContent2,opUid2,ck){
	var opList = document.getElementById("opList2");	
	
	if(!type) type = 2;
	if(!opName1) opName1 = '';
	if(!opContent1) opContent1 = '';
	if(!opName2) opName2 = '';
	if(!opContent2) opContent2 = '';	
	if(!opUid2) opUid2 = '';

	opCnt2++;
	opCntInc2++;
	newRow = document.createElement('TR');	
	
	newCell = document.createElement('TD');	
	newCell.innerHTML = opCnt2;
	newCell.className = "eng b_op2 b_left";
	newCell.id = "opList2_num_"+opCntInc2;	
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="checkbox" name="opItem2[]" value="'+opCntInc2+'">';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="text" name="opName1[]" class="ta op_w1" value="'+opName1+'"><input type="hidden" name="opUid2[]" class="ta" value="'+opUid2+'">';
	newRow.appendChild(newCell);
	
	newCell = document.createElement('TD');	
	newCell.colSpan = 3;
	newCell.style.width = '75%';
	newCell.className = "b_op2";
	if(type==2) {		
		tmps  = '<div id="opContent1_'+opCntInc2+'" class="left" style="width:40%"><input id="opName1_'+opCntInc2+'" type="text" name="opContent1[]" class="ta op_w2" value="'+opContent1+'"></div>';
		tmps += '<div id="opContent2_'+opCntInc2+'" class="left" style="width:20%;"><input type="text" name="opName2[]" class="ta op_w1" value="'+opName2+'"></div>';
		tmps += '<div id="opContent3_'+opCntInc2+'" class="left" style="width:39%;"><input type="text" name="opContent2[]" class="ta op_w3" value="'+opContent2+'"></div>';		
	}
	else {
		tmps  = '<div id="opContent1_'+opCntInc2+'" class="left" style="width:100%"><input id="opName1_'+opCntInc2+'" type="text" name="opContent1[]" class="ta op_w3" value="'+opContent1+'"></div>';
		tmps += '<div id="opContent2_'+opCntInc2+'" class="left" style="display:none;"><input type="text" name="opName2[]" class="ta op_w1" value="x"></div>';
		tmps += '<div id="opContent3_'+opCntInc2+'" class="left" style="display:none;"><input type="text" name="opContent2[]" class="ta op_w3" value="x"></div>';
	}
	newCell.innerHTML = tmps;
	newRow.appendChild(newCell);

	newRow.style.backgroundColor = "#FFF";
	newRow.style.height = '24px';
	newRow.id = "opList2_"+opCntInc2;
	newRow.num = opCntInc2;
	newRow.onclick = function() {
		if(opSec2!=0 && $("opList2_"+opSec2)) document.getElementById("opList2_"+opSec2).style.backgroundColor = '#fff';
		opSec2 = this.num; 
		this.style.backgroundColor = '#efefef';
	}
	opList.appendChild(newRow);

	if(opCnt2==1) document.getElementById('opListNo2').style.display='none';
	return false;
}

function opAll2(){
	if(opCnt2==0) return false;
	f = document.goodsForm;
	
	for (i=ck=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name == 'opItem2[]') f.elements[i].checked = true;
	}
	return false;
}

function opDel2(){
	if(opCnt2==0) return false;
	var f = document.goodsForm;
	var opList = document.getElementById("opList2");	
	var delList = new Array();
	
	for (i=j=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opItem2[]' && f.elements[i].checked == true) {
			delList[j] = f.elements[i].value;
			j++;
		}
	}	

	if(j==0) {
		alert("삭제할 항목을 선택 하시기 바랍니다");
		return false;
	}

	for (i=0,cnt=delList.length;i<cnt;i++) {
		opList.removeChild(document.getElementById('opList2_'+delList[i]));
	}


	opCnt2 = opCnt2 - j;

	if(opCnt2==0) {
		document.getElementById('opListNo2').style.display='block';
		return false;
	}
	
	for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opItem2[]') {
			tmp = f.elements[i].value;
			document.getElementById("opList2_num_"+tmp).innerHTML = j;		
			document.getElementById("opList2_"+tmp).style.backgroundColor = '#fff';
			j++;
		}
	}

	opSec2 = 0;
	return false;	
}

function opSecMod2(){
	if(opCnt2==0) return false;
	var f = document.goodsForm;
	var secList = new Array();

	for (i=j=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opItem2[]' && f.elements[i].checked == true) {
			secList[j] = f.elements[i].value;
			j++;
		}
	}	

	if(j==0) {
		alert("공통적용할 항목을 선택 하시기 바랍니다");
		return false;
	}

	for (i=0,cnt=secList.length;i<cnt;i++) {
		secListNum = document.getElementById("opList2_num_"+secList[i]).innerHTML;			
	}
	
	return false;	
}

function opInit2(){
	if(opCnt2==0) return false;
	if(confirm('정말로 초기화 하겠습니다? 초기화 하시면 모든 항목이 삭제 됩니다.')){
		opAll2();
		opDel2();
	}
	return false;
}

function opSort2(mode){
	if(opSec2==0) {
		alert("먼저 이동할 항목을 선택 하시기 바랍니다.");
		return false;
	}
	if(opCnt2<2) return false;
	
	var f = document.goodsForm;

	switch(mode) {
		case "top" : 
			if(opSec2==1) return false;
			for (ii=opSec2;ii>1;ii--) {				
				cgOp2((opSec2-1),(opSec2));
				opSec2--;
				if(opSec2==1) break;
			}	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem2[]') {					
					tmp = f.elements[i].value;					
					if(opSec2==j) document.getElementById("opList2_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList2_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}			
		break;
		case "bottom" :
			if(opSec2==opCnt2) return false;
			for (ii=opSec2;ii<opCnt2;ii++) {				
				cgOp2((opSec2),(opSec2+1));
				
				opSec2++;
				if(opSec2==opCnt2) break;
			}	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem2[]') {					
					tmp = f.elements[i].value;					
					if(opSec2==j) document.getElementById("opList2_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList2_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}
		break;
		case "down" : 
			if(opSec2==opCnt2) return false;
			cgOp2(opSec2,(opSec2+1));
			
			opSec2++;	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem2[]') {					
					tmp = f.elements[i].value;					
					if(opSec2==j) document.getElementById("opList2_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList2_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}					
		break;

		case "up" : 
			if(opSec2==1) return false;
			cgOp2((opSec2-1),opSec2);
			
			opSec2--;	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem2[]') {					
					tmp = f.elements[i].value;					
					if(opSec2==j) document.getElementById("opList2_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList2_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}					
		break;


	}
	return false;	
}


function cgOp2(num1,num2) {
	var f = document.goodsForm;
	var tmp1 = tmp2 = tmp3 = tmp4 = tmp5 = tmp6 = tmp7 = null;
	var tmp_num11 = tmp_num12 = tmp_num13 = tmp_num14 = tmp_num15 = null;
	var tmp_num21 = tmp_num22 = tmp_num23 = tmp_num24 = tmp_num25 = null;
	var c11 = c12 = c13 = c14 = c15 = c16 = 1;
	var c21 = c22 = c23 = c24 = c25 = c26 = 1;
	
	for (i=0,cnt=f.elements.length;i<cnt;i++) {
		
		if(f.elements[i].name =='opItem2[]' && tmp6==null) {
			if(c16==num1) {
				tmp6 = f.elements[i].value;	
				document.getElementById("opContent2_"+tmp6).style.display = 'block';
				document.getElementById("opContent3_"+tmp6).style.display = 'block';
			}
			else c16++;
		}
		if(f.elements[i].name =='opName1[]' && tmp_num11==null) {
			if(c11==num1) {
				tmp1 = f.elements[i].value;			
				tmp_num11 = i;				
			}
			else c11++;
		}
		if(f.elements[i].name =='opContent1[]' && tmp_num12==null) {
			if(c12==num1) {
				tmp2 = f.elements[i].value;			
				tmp_num12 = i
			}
			else c12++;
		}
		if(f.elements[i].name =='opName2[]' && tmp_num13==null) {
			if(c13==num1) {
				tmp3 = f.elements[i].value;			
				tmp_num13 = i
			}
			else c13++;
		}
		if(f.elements[i].name =='opContent2[]' && tmp_num14==null) {
			if(c14==num1) {
				tmp4 = f.elements[i].value;			
				tmp_num14 = i
			}
			else c14++;
		}
		if(f.elements[i].name =='opUid2[]' && tmp_num15==null) {
			if(c15==num1) {
				tmp5 = f.elements[i].value;			
				tmp_num15 = i
			}
			else c15++;
		}		
		
		if(f.elements[i].name =='opItem2[]' && tmp7==null) {
			if(c26==num2) {
				tmp7 = f.elements[i].value;			
				document.getElementById("opContent2_"+tmp7).style.display = 'block';
				document.getElementById("opContent3_"+tmp7).style.display = 'block';
			}
			else c26++;
		}
		if(f.elements[i].name =='opName1[]' && tmp_num21==null) {
			if(c21==num2) {
				tmp_num21 = i;
			}
			else c21++;
		}
		if(f.elements[i].name =='opContent1[]' && tmp_num22==null) {
			if(c22==num2) {
				tmp_num22 = i
			}
			else c22++;
		}
		if(f.elements[i].name =='opName2[]' && tmp_num23==null) {
			if(c23==num2) {
				tmp_num23 = i
			}
			else c23++;
		}
		if(f.elements[i].name =='opContent2[]' && tmp_num24==null) {
			if(c24==num2) {
				tmp_num24 = i
			}
			else c24++;
		}
		if(f.elements[i].name =='opUid2[]' && tmp_num25==null) {
			if(c25==num2) {
				tmp_num25 = i
			}
			else c25++;
		}				
	}
	
	f.elements[tmp_num11].value = f.elements[tmp_num21].value;
	f.elements[tmp_num12].value = f.elements[tmp_num22].value;
	f.elements[tmp_num13].value = f.elements[tmp_num23].value;
	f.elements[tmp_num14].value = f.elements[tmp_num24].value;
	f.elements[tmp_num15].value = f.elements[tmp_num25].value;
	
	f.elements[tmp_num21].value = tmp1;
	f.elements[tmp_num22].value = tmp2;
	f.elements[tmp_num23].value = tmp3;
	f.elements[tmp_num24].value = tmp4;
	f.elements[tmp_num25].value = tmp5;


	if(f.elements[tmp_num13].value!='x') {
		document.getElementById("opContent1_"+tmp6).style.width = '40%';
		document.getElementById("opName1_"+tmp6).className = 'ta op_w2'
		document.getElementById("opContent2_"+tmp6).style.width = '20%';
		document.getElementById("opContent3_"+tmp6).style.width = '39%';			
	}
	else {
		document.getElementById("opContent1_"+tmp6).style.width = '100%'
		document.getElementById("opName1_"+tmp6).className = 'ta op_w3'
		document.getElementById("opContent2_"+tmp6).style.display = 'none';
		document.getElementById("opContent3_"+tmp6).style.display = 'none';
	}
	
	if(f.elements[tmp_num23].value!='x') {
		document.getElementById("opContent1_"+tmp7).style.width = '40%';
		document.getElementById("opName1_"+tmp7).className = 'ta op_w2'
		document.getElementById("opContent2_"+tmp7).style.width = '20%';
		document.getElementById("opContent3_"+tmp7).style.width = '39%';	
	}
	else {
		document.getElementById("opContent1_"+tmp7).style.width = '100%';
		document.getElementById("opName1_"+tmp7).className = 'ta op_w3'
		document.getElementById("opContent2_"+tmp7).style.display = 'none';
		document.getElementById("opContent3_"+tmp7).style.display = 'none';
	}

}
/*************************  @상품 필수 정보 관리 ***************************/


/*************************  상품 등록 체크 ***************************/

function checkForm() {
	
	// 숫자 체크 스크립트 
	function isNumber(name) { 
		  var  ckStr= eval("form." + name); 

		  for(var i = 0; i < ckStr.value.length; i++) { 
			 var chr = ckStr.value.substr(i,1); 
			 if(chr < '0' || chr > '9') {             
				alert('숫자만 입력 가능합니다.');
				eval("form."+name+".value = ''")
				eval("form."+name+".focus()")
				return 1; 
			 } 
		  } 
	   } 

	// 입력값 체크 스크립트 
	function ck_value(name,msg) {
		 var ch=0;
		 eval("if(!form."+name+".value) { ch = 1 }")
		 if(ch==1) { 
			alert(msg);
			eval("form."+name+".focus()")
			return 1;
		 } 
	} 

	var form = document.goodsForm;

	if(form.ckBtn.value==1) {
		alert("처리 중 입니다. 버튼은 한번만 누르시기 바랍니다.");
		return false;
	}
	
	<!-- DYNAMIC @is_jwrite1@ -->
	if(!form.cate_num.value || form.cate_num.value == 0) {
		alert('선택된 분류가 없습니다! 다시한번확인해주세요.');
		document.myForm.cate1.focus();
		return false;
	}
	
	var ck_last = form.cate_num.value;
	var split_cate = ck_last.split(":");

	if(split_cate[1] == "O") { // 하위분류가 있을경우 상위분류에 상품을 등록시키지 못함.
		alert('하위분류가 존재하는 분류입니다!\n하위분류를 지정해주시고,\n\n하위분류가 생성되지 않았으면\n하위분류를 생성후 상품을 등록해주세요!');
		document.myForm.cate1.focus();
		return false;
	}
	<!-- DYNAMIC @is_jwrite1@ -->
    
	form.explan.value = explan.getHtml(); //대체한 textarea에 작성한HTML값 전달		
	
	for(i=0;i<tmp_scate.length;i++){
		if(tmp_scate[i]!='') {
			if(!form.mcate.value) form.mcate.value = tmp_scate[i];
			else form.mcate.value = form.mcate.value + ',' + tmp_scate[i];
		}
	}

	for(i=0;i<tmp_sspecial.length;i++){
		if(tmp_sspecial[i]!='') {
			if(!form.special.value) form.special.value = tmp_sspecial[i];
			else form.special.value = form.special.value + ',' + tmp_sspecial[i];
		}
	}
    
	for(i=0;i<tmp_sgoods.length;i++){
		if(tmp_sgoods[i]!='') {
			if(!form.op_goods.value) form.op_goods.value = tmp_sgoods[i];
			else form.op_goods.value = form.op_goods.value + ',' + tmp_sgoods[i];
		}
	}    
	
	if(ck_value('name','상품명을 입력하세요!')==1) return false;

	if(form.name.value.search("\"") != -1 || form.name.value.search("\:") != -1) {
		alert('상품명에 사용할 수없는 문자가 있습니다. 다시 입력하세요!');
        form.name.focus();
        return false;
    }

	//if(ck_value('comp',' 제조사를 입력하세요!')==1) return false;
	//if(ck_value('model',' 모델명을 입력하세요!')==1) return false;
	if(ck_value('price','판매가격을 입력하세요!')==1) return false;
    if(isNumber('price') == 1) return false;  
    if(isNumber('consumer_price') == 1) return false; 
    if(isNumber('def_qty') == 1) return false;
 
   	if($('dsp24').checked) { 
	     if(ck_value('qty','재고량을 입력하세요!')==1) return false; 
		 if(isNumber('qty') == 1) return false;  
	}	
	if($('dsp33').checked) { 
	     if(ck_value('reserve','적립금을 입력하세요!')==1) return false; 
	     if(isNumber('reserve') == 1) return false;  
	}
	if($('dsp43').checked) { 
	     if(ck_value('carriage','배송비를 입력하세요!')==1) return false; 
		 if(isNumber('carriage') == 1) return false;  
	}

	if(form.tag.value==tagDefault) form.tag.value = '';

	<!-- DYNAMIC @is_jwrite2@ -->
	if(ck_value('image1','큰 이미지를 등록하세요!')==1) return false;
	<!-- DYNAMIC @is_jwrite2@ -->
	
   if(form.explan.value=="")	{
		alert('상품 상세설명을 입력하세요!');
		explan.focus();
		return false;
	} 	
	form.ckBtn.value = 1;
	
}

/*************************  상품 등록 체크 ***************************/


function tbPost(){
	// 입력값 체크 스크립트 
	function ck_value(name,msg) {
		 var ch=0;
		 eval("if(!f."+name+".value) { ch = 1 }")
		 if(ch==1) { 
			alert(msg);
			eval("f."+name+".focus()")
			return 1;
		 } 
	} 

	f = document.goodsForm;

    tList = document.getElementById("tbList");
	
	if(ck_value('tb_link','포스트 주소를 입력 하세요!')==1) return false;
	if(ck_value('tb_title','포스트 제목을 입력 하세요!')==1) return false;
	if(ck_value('tb_post','트랙백 주소를 입력 하세요!')==1) return false;

	if(f.tb_link.value.indexOf("http://") == -1) f.tb_link.value = "http://" + f.tb_link.value;
	
	
    var tb_link = f.tb_link.value.replace(/&/g,"%26");
	var tb_post = f.tb_post.value.replace(/&/g,"%26");


	aObj.getHttpRequest("../shopping/tbPost.php?uid={{uid}}&link="+tb_link+"&title="+f.tb_title.value+"&posts="+tb_post, "tbAdd","data"); 

	document.getElementById('tbSend').innerHTML = "전송중 <img src='img/waiting.gif' border='0' height='11' />";
	document.getElementById('tbSend').onclick = "";

	return false;
}

function tbAdd(data) {	
	
	document.getElementById('tbSend').innerHTML = "트랙백보내기";
	document.getElementById('tbSend').onclick = "return tbPost()";

	if(typeof(data['message'])=='undefined') {
		alert("전송중 에러가 발생했습니다.");
		return;
	}

	if(data['message']=='Error') {	
		alert("전송중 에러가 발생했습니다.");
		return;
	}

	if(data['message']=='Duple') {
		alert("이미 등록된 트랙백입니다.");
		return;
	}

	if(data['message']=='Trans') {
		alert("트랙백 주소가 잘못 되었거나 거부 되었습니다.");
		return;
	}

	if(data['message']=='Succ') {
		
		if(!data['uid']) return;
		uid = data['uid'];

		f = document.goodsForm;
		tmps = f.tb_link.value.split("/");

		Name = '<font class=eng>[<a href="' + f.tb_link.value + '" target=_blank>' + tmps[2] + '</a>]</font> ' + f.tb_title.value + '&nbsp;&nbsp;<font class="eng">'+data['date']+'</font>&nbsp;&nbsp;<img src="img/icon_del.gif" border="0" align="absmiddle" class="hand" onclick="tbPost2('+uid+',\''+f.tb_post.value+'\');" />';

		var nList = document.createElement("div");
		nList.id = "tb_list_" + uid;	
		nList.style.height = '18px';
		nList.className = 'small';
		nList.style.padding = '6px 0 0 6px';
		nList.innerHTML = Name;
		
		tList.appendChild(nList);
		cnts = tList.childNodes.length;
		
		if(document.getElementById("tbDefault").style.display!='none') document.getElementById("tbDefault").style.display = 'none';
	}
}

function tbPost2(num,posts) {
	if(!num || !posts) return;
	
	var tb_post = posts.replace(/&/g,"%26");

	aObj.getHttpRequest("../shopping/tbPost.php?mode=del&uid="+num+"&posts="+tb_post, "tbDel","data"); 	

	document.getElementById('tbSend').innerHTML = "삭제중 <img src='img/waiting.gif' border='0' height='11' />";
	document.getElementById('tbSend').onclick = "";
}	


function tbDel(data) {	
	document.getElementById('tbSend').innerHTML = "트랙백보내기";
	document.getElementById('tbSend').onclick = "return tbPost()";

	if(typeof(data['message'])=='undefined') {
		alert("전송중 에러가 발생했습니다.");
		return;
	}

	if(data['message']=='Error') {	
		alert("전송중 에러가 발생했습니다.");
		return;
	}
	
	if(!data['uid']) return;
	num = data['uid'];
	
	tList = document.getElementById("tbList");
	element = document.getElementById('tb_list_'+num);

	element.innerHtml ='';
	tList.removeChild(element);
	
	if(isMsie) var cnt = tList.childNodes.length;
	else var cnt = tList.childNodes.length -2;
	
	if(cnt==1) document.getElementById("tbDefault").style.display = 'block';		
}

function ck_bg(obj, num) {
	if(num==1) {
		$(obj).style.backgroundColor = '#efefef';
	}
	else {
		$(obj).style.backgroundColor = '#fff';
	}
}

//-->
</SCRIPT>

<link href="../../swfupload/default.css" type="text/css" rel="stylesheet" />
<script src="../../lib/lib.ajax.js"></script>
<script type="text/javascript" src="../../swfupload/swfupload.js"></script>
<script type="text/javascript" src="../../swfupload/handlers_thum.js"></script>

<link href="../../pEdit/include/pEditor.css" type="text/css" rel="stylesheet" />
<script src="../../pEdit/pEditor.js"></script>

<script type="text/javascript">
var swfu;
var tmp_dir = "{{tmp_gdir2}}";
var ori_dir = "{{tmp_gdir}}";
swfUpload = 'Y';

function swfUploadInit(){
	var settings = {
		flash_url : "../../swfupload/swfupload.swf",
		upload_url: "../../swfupload/swf_upload_thum.php",	// Relative to the SWF file
		post_params: {"tmp_dir":"{{tmp_gdir2}}","o_size1":"{{o_size1}}","o_size2":"{{o_size2}}"},

		file_size_limit : "100 MB",
		file_types : "*.*",
		file_types : "*.jpg;*.gif;*.png",
		file_types_description : "Image File",
		file_upload_limit : 100,
		
		custom_settings : {
			upload_target : "divFileProgressContainer"
		},
		debug: false,

		// Button settings
		//button_image_url: "img/btn_bg.gif",	// Relative to the Flash file
		button_width: "53",
		button_height: "20",
		button_placeholder_id: "spanButtonPlaceHolder",
		button_text: '<span class="theFont">파일찾기</span>',
		button_text_style: ".theFont { font-family:돋움,돋움체,Tahoma; font-size:11px;letter-spacing:-1px;text-decoration:none }",
		button_text_left_padding: 4,
		button_text_top_padding: 3,
		//button_text: '파일찾기',

				
		// The event handler functions are defined in handlers.js
		//file_queued_handler : fileQueued,
		file_queue_error_handler : fileQueueError,
		file_dialog_complete_handler : fileDialogComplete,
		upload_progress_handler : uploadProgress,
		upload_error_handler : uploadError,
		upload_success_handler : uploadSuccess,
		upload_complete_handler : uploadComplete
	};

	swfu = new SWFUpload(settings);
};

</script>

<div class="mainBox2"  id="mainContent">
	<div class="top">
		<div style="padding:9px 0 0 12px;">
			<!-- DYNAMIC @is_write2@ -->
			<div class='left'><img src="img/tm_goods_ins.gif" alt="상품등록" /></div>
			<div class='left small' style='padding:8px 0 0 10px;'>상품을 등록 할 수 있습니다. 분류를 선택 하고 상품이미지 및 정보를 입력 하시면 됩니다.</div>
			<!-- DYNAMIC @is_write2@ -->
			<!-- DYNAMIC @is_mod1@ -->
			<div class='left'><img src="img/tm_goods_mod.gif" alt="상품수정" /></div>
			<div class='left small' style='padding:8px 0 0 10px;'>상품을 수정 할 수 있습니다.</div>
			<!-- DYNAMIC @is_mod1@ -->
		</div>			
	</div>
	<div class="content">
		<div class='content_top'></div>			
		<div style="padding:0 6px 0 6px;" id='mainHeight'>
			<div style='height:10px;overflow:hidden'>&nbsp;</div>		

<!-- DYNAMIC @is_write3@ -->
<!-- 분류 선택폼  시작 -->
<FORM name=myForm>
<input type="hidden" name=path_cate1>
<input type="hidden" name=path_cate2>
<input type="hidden" name=path_cate3>

<table width=99% align=center cellpadding=0 cellspacing=0>
<tr><td><img src='./img/g_1th.gif'></td></tr>
<tr><td align=center>
	<table border="0" cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	<tr>
	   	<td>
			<table border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
			<tr> 
				<td> 					
					<table width=100% align=center border=0 cellpadding=0 cellspacing=1>
					<tr height=30 align=left>
						<td class=gr_bg align=center width=25%><font class="bTitle small">*&nbsp;1차분류</font></td>
						<td class=gr_bg align=center width=25%><font class="bTitle small">*&nbsp;2차분류</font></td>
						<td class=gr_bg align=center width=25%><font class="bTitle small">*&nbsp;3차분류</font></td>
						<td class=gr_bg align=center width=25%><font class="bTitle small">*&nbsp;4차분류</font></td>
					</tr>
					<tr bgcolor='#FFFFFF' height="146">
						<td><SELECT NAME="cate1" size=10 style='width:100%;height:100%;background:#FFFFFF;'></SELECT></td>
						<td><SELECT name="cate2" size=10 style='width:100%;height:100%;background:#FFFFFF;'></SELECT></td>
                        <td><SELECT name="cate3" size=10 style='width:100%;height:100%;background:#FFFFFF;'></SELECT></td>	
						<td><SELECT name="cate4" size=10 style='width:100%;height:100%;background:#FFFFFF;'></SELECT></td>	
					</tr>
					</table>
			    </td>
		    </tr>
		    </table>
         </td>
     </tr>
     </table>
   </td>
</tr>
<tr><td height=6></td></tr>
</table>
</FORM>
<!-- DYNAMIC @is_write3@ -->

<FORM method="post" name="goodsForm" ACTION="goods_post.php?{{addstring}}" enctype="multipart/form-data" onsubmit="return checkForm();">
<input type="hidden" name="cate_num">
<input type="hidden" name="tmp_gdir" value="{{tmp_gdir2}}">
<input type="hidden" name="tmp2_dir" value="{{tmp2_dir2}}">
<input type="hidden" name="back" value="{{back}}">
<input type="hidden" name="ckBtn">

<table width=99% align=center cellpadding=0 cellspacing=0>
<tr><td align=center>
	<table border="0" cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	<tr>
	     <td>
			<table border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
			<tr> 
				<td> 
					<table width=100% border=0 cellpadding=0 cellspacing=1>
					<!-- DYNAMIC @is_write4@ -->
					<tr  height=30 align=left>
						<td class=gr_bg width=120><font class="bTitle2 small">&nbsp;&nbsp;*&nbsp;등록될 분류 위치</font></td>
						<td bgcolor=#efefef>&nbsp;<font class="eng">HOME</font>&nbsp;<input type='text' name='this_path' value='' size=70 style='background-color:#efefef;border-width:0;border-style:solid;color:#0083c7;' readonly>
						</td>
					</tr>	
					<!-- DYNAMIC @is_write4@ -->
					<!-- DYNAMIC @is_mod2@ -->
					<tr  height=30 align=left>
						<td class=gr_bg width=120><font class="bTitle2 small">&nbsp;&nbsp;*&nbsp;등록된 분류 위치</font></td>
						<td bgcolor=#efefef>
							<div style="float:left; padding:5px 10px 0 6px;">{{CATE_LOC}}</div>
							<div id="sBtn1" style="padding-left:6px;">
								<a href="#" onclick="pLightBox.show('goods_cate_select.html?uid={{uid}}&mode=cmodify','iframe','840','380','■ 상품분류 수정하기',10);return false;"><span class="green">분류수정</span></a>	
								<a href="#" onclick="pLightBox.show('goods_cate_select.html?uid={{uid}}&mode=copy','iframe','840','380','■ 상품 복사하기',10);return false;"><span class="green">상품복사</span></a>	
							</div>
						</td>
					</tr>	
					<!-- DYNAMIC @is_mod2@ -->
					<tr height=30 align=left> 
						<td class=gr_bg><font class="small bTitle">&nbsp;&nbsp;*&nbsp;전시 분류</font></td>
						<td bgcolor="#EFEFEF" style="padding-left:6px">
							<div style='margin:8px 0 8px 0;clear:both;'>									
								<div style='float:left;padding:4px 0 0 0;'>
									<input type="hidden" name="mcate">
									<input type="hidden" name="mseccate">
									<font class="small bold">분류선택 : </font>
								</div>

								<div id="sBtn1" style="float:left;padding-left:4px;">
									<a href="#" onclick="return msecCate();"><span class="green">추가하기</span></a>	
								</div>

								<div style="clear:both;height:8px;overflow:hidden;">&nbsp;</div>

								<div>
									<select name="mcate1"></select>
									<select name="mcate2"></select>
									<select name="mcate3"></select>
									<select name="mcate4"></select>
								</div>

								<div id="cateList" style='margin-top:10px;width:600px;border:1px solid #dadada; background-color:#FFF;display:none;'></div>

								<div style="clear:both;height:8px;overflow:hidden;">&nbsp;</div>
							</div>	
						</td>
					</tr>
                    <tr  height=30 align=left>
						<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;브랜드 선택</font></td>
						<td bgcolor=#efefef>&nbsp;<select name="brand">{{BRAND_SELECT}}</select><input type='text' style='border:0;background-color:#EFEFEF' size=50 readonly />
						</td>
					</tr>
					<tr height=36 align=left> 
						<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;기획전 선택</font></td>
						<td bgcolor='#EFEFEF' style="padding:4px 0 0 6px">
							<div style='float:left;padding:4px 0 0 0;'>
								<input type="hidden" name="special">
								<select name="special_list">{{SPECIAL_SELECT}}</select>	
							</div>

							<div id="sBtn1" style="float:left;padding:4px 0 0 4px;">
								<a href="#" onclick="return secSpecial();"><span class="green">추가하기</span></a>	
							</div>
							
							<div style="clear:both;height:1px;overflow:hidden;">&nbsp;</div>

							<div id="specialList" style='margin-top:10px;width:600px;border:1px solid #dadada; background-color:#FFF;display:none;'></div>

							<div style="clear:both;height:8px;overflow:hidden;">&nbsp;</div>
						</td>
					</tr>
					<tr height=30 align=left> 
						<td colspan=2 bgcolor="#FFFFFF">&nbsp;&nbsp;<font class=small>! 전시 분류는 해당상품의 분류와 관계없이 다른 분류에서도 상품을 노출 됩니다.</font></td>
					</tr>
					</table>
		         </td>
		     </tr>
		     </table>
         </td>
     </tr>
     </table>
   </td>
</tr>

<!-- 분류 선택폼  끝 -->
<tr><td height=10></td></tr>

<tr><td><img src='./img/g_2th.gif'></td></tr>
<tr><td align=center>
      <table border="0" cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td> 
						<table width='100%' border="0" cellspacing="1" cellpadding="0">						
						<!-- DYNAMIC @is_mod6@ -->
						<tr height=30 align=left> 
							<td class=gr_bg width="120"><font class="bTitle small">&nbsp;&nbsp;*&nbsp;링크주소</font></td>
							<td bgcolor="#FFFFFF" colspan=3 class="eng">&nbsp;<a href="{{LINKS}}" target="_blank">{{LINKS}}</a></td>						    
						</tr>
						<!-- DYNAMIC @is_mod6@ -->
						<tr height=30 align=left> 
							<td class=gr_bg width="120"><div style="width:120px;"><font class="bTitle small">&nbsp;&nbsp;*&nbsp;상품번호(UID)</font></div></td>
							<td bgcolor="#FFFFFF" colspan=3>&nbsp;<font class="eng">{{GOODS_NUM}}</font>&nbsp;&nbsp;<font class=small>상품번호는 자동부여됩니다.</font></td>						    
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle2 small">&nbsp;&nbsp;*&nbsp;상품명</font></td>
							<td bgcolor="#EFEFEF" colspan=3>&nbsp;<input type='text' name='name' size="90" class=ta value='{{name}}'></td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;경중률</font></td>
							<td bgcolor="#EFEFEF" colspan=3 style="padding-left:6px;"> 
							    <select name="sequence">
								    <option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
								</select>
								<font class=small>경중률은 상품출력 순서에 이용됩니다. 경중률이 낮은 상품이 먼저 출력 됩니다.</font>
							</td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;모델명</font></td>
							<td bgcolor="#EFEFEF" colspan=3>&nbsp;<input type='text' name='model' size="90" class=ta value='{{model}}'></td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;제조사</font></td>
							<td bgcolor="#EFEFEF">&nbsp;<input type='text' name='comp' size="20" class=ta value='{{comp}}'>&nbsp;<SELECT name="comp2" onchange="if(this.value) goodsForm.comp.value=this.value;">{{COMP_SELECT}}</SELECT>
							</td>	
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;원산지</font><div style='width:70px;height:1px;overflow:hidden;'></div></td>
							<td bgcolor="#EFEFEF">&nbsp;<input type='text' name='made' size="20" class=ta value='{{made}}'>&nbsp;<SELECT name="made2" onchange="if(this.value) goodsForm.made.value=this.value;">{{MADE_SELECT}}</SELECT>
							</td>							
						</tr>						
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle2 small">&nbsp;&nbsp;*&nbsp;판매가격</font></td>
							<td bgcolor="#EFEFEF">&nbsp;<input type='text' name='price' size="13" class="ta2  eng" onkeyup="onlyNum(this);" onkeydown="onlyNum(this);" value="{{price}}" onfocus="this.select();" maxlength=9>원
							</td>
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;소비자 가격</font></td>
							<td bgcolor="#EFEFEF">&nbsp;<input type='text' name='consumer_price' size="13" class="ta2 eng" onkeyup="onlyNum(this);" onkeydown="onlyNum(this);" value="{{consumer_price}}" onfocus="this.select();" maxlength=9>원
							</td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;판매가 대체문구</font></td>
							<td bgcolor="#EFEFEF" colspan=3>&nbsp;<input type='text' name='price_ment' size="50" class=ta value="{{price_ment}}">&nbsp;&nbsp;<font class=small>판매가격이 미정일때 나타날 문구 예)전화문의, 상담후 협의...</font>
							</td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;기본판매 단위</font></td>
							<td bgcolor="#EFEFEF">&nbsp;<SELECT name="unit" onclick='this.form.unit2.value=this.form.unit.value;this.form.unit3.value=this.form.unit.value' align=absmiddle>{{UNIT_SELECT}}</SELECT>
							</td>
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;기본판매 수량</font></td>
							<td bgcolor="#EFEFEF">&nbsp;<input type='text' name='def_qty' size=4 value='{{def_qty}}' class="ta2 eng"  onkeydown="onlyNum(this);" onkeyup="onlyNum(this);" maxlength=5 onfocus="this.select();"><input type=text name=unit2 readonly  value='{{UNIT}}' style='border:0px;background-color:#EFEFEF'>
							</td>
						</tr>						
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;재고량</font></td>
							<td bgcolor="#EFEFEF" colspan="3" style="padding-left:6px;">
								<input type='checkbox' name='dsp2[]' id='dsp21' value='1' onfocus='blur();' onclick="ck_display(2,1);ck_bg('qty',1)" {{DSP21}} /><label for='dsp21'>무제한</label>&nbsp;
								<input type='checkbox' name='dsp2[]' id='dsp22' value='2' onfocus='blur();' onclick="ck_display(2,2);ck_bg('qty',1)" {{DSP22}} /><label for='dsp22'>품절</label>&nbsp;
								<input type='checkbox' name='dsp2[]' id='dsp23' value='3' onfocus='blur();' onclick="ck_display(2,3);;ck_bg('qty',1)" {{DSP23}} /><label for='dsp23'>상품숨김</label>&nbsp;
								<input type='checkbox' name='dsp2[]' id='dsp24' value='4' onfocus='blur();' onclick="ck_display(2,4);;ck_bg('qty',2)" {{DSP24}} /><label for='dsp24'>한정판매</label>&nbsp;
								<input type='text' name='qty' id='qty' size="5" class="ta2 eng" onkeydown="onlyNum(this);" onkeyup="onlyNum(this);" maxlength=5 value="{{qty}}" /><input type=text name="unit3" readonly  value='{{UNIT}}' style='border:0px;background-color:#efefef' />
							</td>							
						</tr>						
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;적립금 적용</font></td>
							<td bgcolor="#EFEFEF" colspan="3" style="padding-left:6px;">
								<input type='checkbox' name='dsp3[]' id='dsp31' value='1' onfocus='blur();' onclick="ck_display(3,1);ck_bg('reserve',1)" {{DSP31}} /><label for='dsp31'>없음</label>&nbsp;
								<input type='checkbox' name='dsp3[]' id='dsp32' value='2' onfocus='blur();' onclick="ck_display(3,2);ck_bg('reserve',1)" {{DSP32}} /><label for='dsp32'>쇼핑몰 환경정책</label>&nbsp;
								<input type='checkbox' name='dsp3[]' id='dsp33' value='3' onfocus='blur();' onclick="ck_display(3,3);ck_bg('reserve',2)" {{DSP33}} /><label for='dsp33'>별도 책정</label>&nbsp;
								<input type='text' name='reserve' id='reserve' size="4" class="ta2 eng" onkeydown="onlyNum(this);" onkeyup="onlyNum(this);" maxlength="3" value="{{reserve}}" />%
							</td>							
						</tr>		
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;배송비 적용</font></td>
							<td bgcolor="#EFEFEF" colspan="3" style="padding-left:6px;">
								<input type='checkbox' name='dsp4[]' id='dsp41' value='1' onfocus='blur();' onclick="ck_display(4,1);ck_bg('carriage',1)" {{DSP41}} /><label for='dsp41'>무료</label>&nbsp;
								<input type='checkbox' name='dsp4[]' id='dsp42' value='2' onfocus='blur();' onclick="ck_display(4,2);ck_bg('carriage',1)" {{DSP42}} /><label for='dsp42'>쇼핑몰 환경정책</label>&nbsp;
								<input type='checkbox' name='dsp4[]' id='dsp43' value='3' onfocus='blur();' onclick="ck_display(4,3);ck_bg('carriage',2)" {{DSP43}} /><label for='dsp43'>별도 책정</label>&nbsp;
								<input type='text' name='carriage' id='carriage' size="8" class="ta2 eng" onkeydown="onlyNum(this);" onkeyup="onlyNum(this);" maxlength="9" value="{{carriage}}" />원
							</td>							
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;상품 태그</font></td>
							<td bgcolor="#EFEFEF" colspan=3>&nbsp;<input type='text' name='tag' size="90" class=ta value="{{tag}}" onfocus="tagFocus();" onkeyup="tagCheck(false);" onblur="tagCheck(true);">
							</td>
						</tr>
						<tr height=150 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;관련 상품</font></td>
							<td bgcolor="#EFEFEF" colspan=3 style='padding:6px;'>
								<div>
									<div style="float:left;padding-top:2px;">
										<input type="radio" name="op_type" id='type1' value="A" {{CKD1A}} /> <label for='type1'>직접선택</label>
									</div>
									
									<div id="sBtn1" style="float:left;padding-left:4px;">
										<a href="#" onclick="pLightBox.show('search_list.php','iframe','860','500','■ 상품 검색',10);return false;"><span class="green">상품검색</span></a>	
										<a href="#" onclick="pLightBox.show('../shopping/input_code.php','iframe','500','300','■ 상품 코드입력',10);return false;"><span class="green">상품코드입력</span></a>
									</div>									
								</div>

								<div style="clear:both;padding-top:6px;">
									<div id="goodsList" style='clear:both;width:620px;border:1px solid #dadada; background-color:#FFF;padding:2px;' class="clearfix">
										<div style='height:138px;' id='noGoods' class="small">
											<div style='padding:65px 0 0 60px;text-align:center'>! 관련 상품이 없습니다. 상품검색하기로 상품을 추가 하시기 바랍니다.</div>
										</div>
									</div>
									<input type='hidden' name='op_goods' size="90" class=ta />
								</div>								

								<div style="padding-top:6px;">
									<input type="radio" name="op_type" id='type2' value="B" {{CKD1B}} /> <label for='type2'>자동입력</label> : 
									<select name="type21">
									  <option value="1" {{SECB11}}>같은 분류</option>
									  <option value="2" {{SECB12}}>전체 분류</option>
									</select>
									의 
									<select name="type22">
									  <option value="1" {{SECB21}}>많이 판매된</option>
									  <option value="2" {{SECB22}}>많이 클릭한</option>
									  <option value="3" {{SECB23}}>랜덤</option>
									</select>
									상품
									<input type='text' name='type23' size="5" class="ta2 eng" onkeydown="onlyNum(this);" onkeyup="onlyNum(this);" maxlength=5 value="{{op_goods_cnt}}" />
									개
								</div>
							</td>
						</tr>
						<tr height=70 align=left> 
							<td colspan=4 bgcolor="#FFFFFF" style="padding-left:10px;line-height:140%;" class="small">
								! 적립금, 배송비의 쇼핑몰 환경정책은 쇼핑몰 환경설정에서 관리 하실 수 있습니다.<br />
								! 배송비 별도 책정 상품일 경우 별도 책정된 배송비는 1개의 상품주문 기준이며 여래개 주문시 주문상품 수 만큼 배송비가 올라 갑니다. (별도 책정 2,000원 3개 주문시 배송비는 6,000원) <br />
								! 상품태그는 ","로 구분하며 쇼핑몰 정책에 따라 상품보기 페이지에서 사용자가 등록 할 수 있으며 20개 까지 등록이 가능 합니다.<br />
								! 관련상품은 상품검색를 이용해서 계속 추가 할 수 있습니다.
							</font>							
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 

<!-- DYNAMIC @is_mod41@ -->
<tr><td height=20></td></tr>
<tr><td align=center><input type=image src='./img/btn_msubmit.gif' border=0 onfocus='blur();'>&nbsp;&nbsp;<img src='./img/btn_list.gif' border=0 align="absmiddle" class="hand" onclick="window.location.href='{{back}}.php?{{addstring}}';" /></td></tr>
<input type="hidden" name="uid" value='{{uid}}'>
<input type="hidden" name="mode" value='modify'>
<!-- DYNAMIC @is_mod41@ -->

<tr><td height=10></td></tr>
<tr><td><img src='./img/g_13th.gif'></td></tr>
<tr><td align=center>
      <table border=0 cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table border=0 cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td> 
						<table width='100%' border="0" cellspacing="1" cellpadding="0">
						<tr>
							<td height=30 class=gr_bg>
								<div id="sBtn1" style="padding-left:10px;">
									<a href="#" onclick="return opAll2();return false;"><span class="green">전체선택</span></a>
									<a href="#" onclick="return opDel2();return false;"><span class="green">삭제</span></a>
									<a href="#" onclick="return opInit2();return false;"><span class="green">초기화</span></a>
								</div>					
							</td>
						</tr>
						<tr>
						    <td align="left" bgcolor="#FFFFFF" style="padding:4px 0 4px 4px;">								
								<table width='740' border="0" cellspacing="0" cellpadding="0" id="opTable21">
								<tr align="center" height=26>
									<td width="5%" bgcolor="#EFEFEF" class="b_left b_op1"><font class="bTitle small">NO</font></td>
									<td width="5%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">선택</font></td>
									<td width="15%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">항목</font></td>
									<td width="30%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">내용</font></td>
									<td width="15%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">항목</font></td>
									<td width="30%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">내용</font></td>									
								</tr>
								</table>
								<div style="height:200px; overflow:auto; width:100%;">
									<table width='740' border="0" cellspacing="0" cellpadding="0" id="opTable22">
									<col width="5%" />
									<col width="5%" />										
									<col width="15%" />
									<col width="30%" />
									<col width="15%" /> 
									<col width="30%" />        
						
									<tbody id="opList2" align="center"></tbody>
									<tr id="opListNo2" align="center">
										<td height=192 bgcolor="#ffffff" colspan=6 class="small">등록된 내역이 없습니다.</td>
									</tr>
									</table>									
								</div>
							</td>
						</tr>										
						<tr>
							<td height=30 bgcolor=#FAFAFA>
								<div id="sBtn1" style="padding-left:10px;">
									<a href="#" onclick="return opSort2('top');"><span >▲ top</span></a>
									<a href="#" onclick="return opSort2('up');"><span >▲ up</span></a>
									<a href="#" onclick="return opSort2('down');"><span >▼ down</span></a>
									<a href="#" onclick="return opSort2('bottom');"><span >▼ bottom</span></a>
								</div>	
								
								<div id="sBtn1" style="float:right;padding-right:10px;overflow:hidden;">									
									<div class="left"><a href="#" onclick="return opAdd2(1);"><span class="green">1개항목추가</span></a></div>
									<div class="left"><a href="#" onclick="return opAdd2(2);"><span class="green">2개항목추가</span></a></div>
								</div>								
							</td>
						</tr>
						<tr height=85 align=left bgcolor=#FFFFFF> 
							<td class="small" style="padding-left:10px;line-height:140%;">
								! 전자상거래법에 의거하여 판매상품의 필수정보 등록이 필요합니다.<br />
								! <font class="orange small hand" onclick="pLightBox.show('goods_detail_info.html','iframe','660','500','■ 품목별 상품정보 고시내용',10);">품목별 상품정보 고시내용</font>을 참고하여 상품필수 정보를 등록하여 주세요. <br />
								! 등록된 정보는 쇼핑몰 상품상세페이지에 상품기본정보 아래에 표형태로 출력되어 보여집니다. <br />								
								! 같은 옵션명을 기준으로 그룹으로 형성되며 순서가 적용 되어 사용자 페이지에 나타납니다.<br />
								! 항목과 내용 란에 아무 내용도 입력하지 않으면 저장되지 않습니다. 
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 
<tr><td height=10></td></tr>
<tr><td><img src='./img/g_3th.gif'></td></tr>
<tr><td align=center>
      <table border=0 cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table border=0 cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td> 
						<table width='100%' border="0" cellspacing="1" cellpadding="0">
						<tr>
							<td height=30 class=gr_bg>
								<div id="sBtn1" style="padding-left:10px;">
									<a href="#" onclick="return opAll();return false;"><span class="green">전체선택</span></a>
									<a href="#" onclick="return opDel();return false;"><span class="green">삭제</span></a>
									<a href="#" onclick="return opInit();return false;"><span class="green">초기화</span></a>
									<a href="#" onclick="return opQtys();return false;"><span class="green">상품재고자동입력</span></a>
								</div>

								<div id="sBtn1" style="float:right;padding-right:10px;">
									<a href="#" onclick="return opSecMod();return false;"><span class="green">입력</span></a>
								</div>	

								<div style="float:right;padding-left:10px;" class="small">
									<font class="bTitle small">* 선택공통적용</font> :&nbsp;&nbsp;
									노출
									<select name="opDisplay2">
										<option value="Y">Y</option>
										<option value="N">N</option>
									</select>&nbsp;&nbsp;
									비고
									<input type="text" name="opCode2" size="16" class="ta">&nbsp;&nbsp;
									재고	
									<input type="text" name="opQty2" size="8" class="ta2 eng" onkeyup="onlyNum(this);" onkeydown="onlyNum(this);" onfocus="this.select();">&nbsp;&nbsp;
								</div>
														
							</td>
						</tr>
						<tr>
						    <td align="left" bgcolor="#FFFFFF" style="padding:4px 0 4px 4px;">								
								<table width='740' border="0" cellspacing="0" cellpadding="0" id="opTable1">
								<tr align="center" height=26>
									<td width="5%" bgcolor="#EFEFEF" class="b_left b_op1"><font class="bTitle small">NO</font></td>
									<td width="5%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">선택</font></td>
									<td width="16%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">옵션명</font></td>
									<td bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">옵션항목</font></td>
									<td width="10%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">추가금액</font></td>
									<td width="6%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">노출</font></td>
									<td width="9%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">재고</font></td>
									<td width="15%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">비고</font></td>
									<td width="7%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">상태</font></td>
								</tr>
								</table>
								<div style="height:200px; overflow:auto; width:100%;">
									<table width='740' border="0" cellspacing="0" cellpadding="0" id="opTable2">
									<col width="5%" />
									<col width="5%" />										
									<col width="16%" />
									<col />
									<col width="10%" /> 
									<col width="6%" />        
									<col width="9%" />        						
									<col width="15%" />
									<col width="7%%" />
						
									<tbody id="opList" align="center"></tbody>
									<tr id="opListNo" align="center">
										<td height=192 bgcolor="#ffffff" colspan=9 class="small">등록된 옵션이 없습니다.</td>
									</tr>
									</table>									
								</div>
							</td>
						</tr>										
						<tr>
							<td height=30 bgcolor=#FAFAFA>
								<div id="sBtn1" style="padding-left:10px;">
									<a href="#" onclick="return opSort('top');"><span >▲ top</span></a>
									<a href="#" onclick="return opSort('up');"><span >▲ up</span></a>
									<a href="#" onclick="return opSort('down');"><span >▼ down</span></a>
									<a href="#" onclick="return opSort('bottom');"><span >▼ bottom</span></a>
								</div>	
								
								<div id="sBtn1" style="float:right;padding-right:10px;overflow:hidden;">
									<div class="left"><SELECT name="option_default">{{OPTION_SELECT}}</SELECT>&nbsp;</div>
									<div class="left"><a href="#" onclick="return opAdd();"><span class="green">옵션추가하기</span></a></div>
								</div>								
							</td>
						</tr>
						<tr height=85 align=left bgcolor=#FFFFFF> 
							<td class="small" style="padding-left:10px;line-height:140%;">
								! 옵션명(예. 직접입력)을 선택 하시고 '옵션추가하기'를 누르시고 옵션상세 입력박스가 나타 납니다.<br />
								! 옵션 상세 입력 박스에 옵션명(예. 색상), 옵션항목(예. 노랑), 추가금액(예. 1000원), 재고수량(예. 100개), 노출(예. Y)을 입력 하시면 됩니다. <br />
								! 재고량은 상품재고량이 한정판매일 경우에만 연동되며 무제한일 경우 옵션재고량은 연동 되지 않습니다.(상품 무제한이라도 옵션재고 품절일 경우 품절로 나타 납니다.) <br />
								! 옵션명은 <a href='goods_conf.html' target='_blank'>상품환경설정 > 옵션관리</a>에서 자주 사용하는 옵션명을 등록 할 수 있습니다.<br />
								! 같은 옵션명을 기준으로 그룹으로 형성되며 순서가 적용 되어 사용자 페이지에 나타납니다. 
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 
<tr><td height=10></td></tr>
<tr><td><img src='./img/g_4th.gif'></td></tr>
<tr><td align=center>
      <table border="0" cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td> 
						<table width='100%' border="0" cellspacing="1" cellpadding="0">
						<tr height=30 align=left> 
							<td class=gr_bg width="120"><font class="bTitle small">&nbsp;&nbsp;*&nbsp;메인페이지</font></td>
							<td bgcolor='#EFEFEF' style="padding-left:6px;">
								<input type='checkbox' name='dsp5[]' id='dsp51' value='1' onfocus='blur();' onclick='ck_display(5,1)' {{DSP51}} /><label for='dsp51'>인기상품</label>
								<input type='checkbox' name='dsp5[]' id='dsp52' value='2' onfocus='blur();' onclick='ck_display(5,2)' {{DSP52}} /><label for='dsp52'>추천상품</label>
								<input type='checkbox' name='dsp5[]' id='dsp53' value='3' onfocus='blur();' onclick='ck_display(5,3)' {{DSP53}} /><label for='dsp53'>신상품</label>
								<input type='checkbox' name='dsp5[]' id='dsp54' value='0' onfocus='blur();' onclick='ck_display(5,0)' {{DSP50}} /><label for='dsp54'>사용안함</label>
							</td>
						</tr>	
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;분류메인페이지</font></td>
							<td bgcolor='#EFEFEF' style="padding-left:6px;">
								<input type='checkbox' name='dsp6[]' id='dsp61' value='1' onfocus='blur();' onclick='ck_display(6,1)' {{DSP61}} /><label for='dsp61'>인기상품</label>
								<input type='checkbox' name='dsp6[]' id='dsp62' value='2' onfocus='blur();' onclick='ck_display(6,2)' {{DSP62}} /><label for='dsp62'>추천상품</label>
								<input type='checkbox' name='dsp6[]' id='dsp63' value='3' onfocus='blur();' onclick='ck_display(6,3)' {{DSP63}} /><label for='dsp63'>신상품</label>
								<input type='checkbox' name='dsp6[]' id='dsp64' value='0' onfocus='blur();' onclick='ck_display(6,0)' {{DSP60}} /><label for='dsp64'>사용안함</label> <span style='width:200px;'><input type=text size=50 style='border:0px;background-color:#efefef' readonly /></span>
							</td>
						</tr>	
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;아이콘 선택</td>
							<td bgcolor='#EFEFEF' style="padding-left:6px;">{{ICON_LIST}}</td>
						</tr>	
						<tr height=30 align=left> 
							<td colspan=2 bgcolor="#FFFFFF">&nbsp;&nbsp;<font class=small>! 상품 전시는 메인디자인, 분류디자인 관리에서 해당 상품 사용시에만 나타 납니다. 아이콘은 <a href='goods_conf.html' target='_blank'>상품 환경설정</a>에서 추가 삭제할 수 있습니다.</font></td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 
<!-- DYNAMIC @is_mod5@ -->
<tr><td height=10></td></tr>
<tr><td><img src='./img/g_9th.gif'></td></tr>
<tr><td align=center>
      <table border="0" cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td> 
						<table width='100%' border="0" cellspacing="1" cellpadding="0">
						<tr height=80 align=left> 
							<td class=gr_bg width="120"><div style='width:120px;'><font class="bTitle small">&nbsp;&nbsp;*&nbsp;트랙백 보내기</font></div></td>
							<td bgcolor="#EFEFEF" colspan=3 style="padding-left:6px;">
								<div style=" line-height:200%">
									<font class="small">포스트 주소 </font>: <input type="text" name="tb_link" class="ta" size="60" /><br />
									<font class="small">포스트 제목 </font>: <input type="text" name="tb_title" class="ta" size="90" /><br />
									<div style="float:left">
										<font class="small">트랙백 주소 </font>: <input type="text" name="tb_post" class="ta" size="60" />
									</div>			
									<div id="sBtn1" style="float:left;padding:2px 0 0 4px;">
										<a href="#" onclick="return tbPost();"><span class="green" id="tbSend">트랙백보내기</span></a>	
									</div>	

								</div>							
							</td>
						</tr>
						<tr align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;보낸 트랙백</font></td>
							<td bgcolor="#EFEFEF" colspan=3 style="padding:6px;">
								<div id="tbList" style='clear:both;width:620px;border:1px solid #dadada; background-color:#FFF;'>

									<!-- DYNAMIC @loop_tb@ -->
									<div id="tb_list_{{tb_uid}}" style="height:18px; padding:6px 0 0 6px" class="small">
										<font class=eng>[<a href="{{tb_olink}}" target="_blank">{{tb_link}}</a>]</font> {{tb_title}}&nbsp;&nbsp;<font class="eng" style="color:#aaa">{{tb_date}}</font>&nbsp;&nbsp;<img src="img/icon_del.gif" border="0" align="absmiddle" class="hand" onclick="tbPost2({{tb_uid}},'{{tb_posts}}');" />
									</div>
									<!-- DYNAMIC @loop_tb@ -->
																		
									<div style="height:40px;margin-top:28px;text-align:center;{{tb_disp}}" class="small" id='tbDefault'>보낸 트랙백이 없습니다.</div>									
								
								</div>
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 
<!-- DYNAMIC @is_mod5@ -->
<tr><td height=10></td></tr>
<tr><td><img src='./img/g_5th.gif'></td></tr>
<tr><td align=center>
      <table border="0" cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table  border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td> 
						<table width='100%' border="0" cellspacing="1" cellpadding="0">
						<tr height=30 align=left> 
							<td class=gr_bg width="120"><font class="bTitle2 small">&nbsp;&nbsp;*&nbsp;큰 이미지</font></td>
							<td bgcolor="#EFEFEF" colspan=3 class="eng">&nbsp;<input type='file' class=ta size=50 name='image1'> {{ISIZE1}}</td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;중간 이미지</font></td>
							<td bgcolor="#EFEFEF" colspan=3 class="eng">&nbsp;<input type='file' class=ta size=50 name='image2'> {{ISIZE2}}</td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;리스트 이미지</font></td>
							<td bgcolor="#EFEFEF" colspan=3 class="eng">&nbsp;<input type='file' class=ta size=50 name='image3'> {{ISIZE3}}</td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;작은 이미지</font></td>
							<td bgcolor="#EFEFEF" colspan=3 class="eng">&nbsp;<input type='file' class=ta size=50 name='image4'> {{ISIZE4}}</td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;디스플레이 이미지</font></td>
							<td bgcolor="#EFEFEF" colspan=3 class="eng">&nbsp;<input type='file' class=ta size=50 name='image5'> {{ISIZE5}}</td>
						</tr>
						<tr height=30 align=left bgcolor=#FFFFFF> 
							<td colspan=4>&nbsp;&nbsp;<input type="checkbox" name="thumUse" value="Y" checked> <font class="small bold">자동 리사이즈 사용</font>&nbsp;&nbsp;<font class="small">(
							큰이미지만 등록 하면 등록하지 않은 다른 이미지들은 큰이미지를 자동으로 사이즈 조정하여 등록 됩니다.)</font>
							</td>
						</tr>
						</table>						
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 
<!-- DYNAMIC @is_mod3@ -->
<tr><td height=10></td></tr>
<tr><td><img src='./img/g_7th.gif'></td></tr>
<tr><td align=center>
      <table border="0" cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td>
						<table width="100%" border="0" cellspacing="1" cellpadding="0">
						<tr height=30 align=left> 
							<td class=gr_bg width="20%" align=center><font class="bTitle small">&nbsp;&nbsp;*&nbsp;큰 이미지&nbsp;*&nbsp;</font></td>
							<td class=gr_bg width="20%" align=center><font class="bTitle small">&nbsp;&nbsp;*&nbsp;중간 이미지&nbsp;*&nbsp;</font></td>
							<td class=gr_bg width="20%" align=center><font class="bTitle small">&nbsp;&nbsp;*&nbsp;리스트 이미지&nbsp;*&nbsp;</font></td>
							<td class=gr_bg width="20%" align=center><font class="bTitle small">&nbsp;&nbsp;*&nbsp;작은 이미지&nbsp;*&nbsp;</font></td>
							<td class=gr_bg width="20%" align=center><font class="bTitle small">&nbsp;&nbsp;*&nbsp;디스플레이 이미지&nbsp;*&nbsp;</font></td>
						</tr>
						<tr height=140> 
							<td align=center valign=middle bgcolor=#FFFFFF>{{image1}}</td>
							<td align=center valign=middle bgcolor=#FFFFFF>{{image2}}</td>
							<td align=center valign=middle bgcolor=#FFFFFF>{{image3}}</td>
							<td align=center valign=middle bgcolor=#FFFFFF>{{image4}}</td>
							<td align=center valign=middle bgcolor=#FFFFFF>{{image5}}</td>
						</tr>
						<tr height=30 align=left> 
							<td bgcolor=#EFEFEF align=center>{{img_size1}}</td>
							<td bgcolor=#EFEFEF align=center>{{img_size2}}</td>
							<td bgcolor=#EFEFEF align=center>{{img_size3}}</td>
							<td bgcolor=#EFEFEF align=center>{{img_size4}}</td>
							<td bgcolor=#EFEFEF align=center>{{img_size5}}</td>
						</tr>												
						</table>
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 
<!-- DYNAMIC @is_mod3@ -->
<tr><td height=10></td></tr>
<tr><td><img src='./img/g_8th.gif'></td></tr>
<tr><td align=center>
      <table border="0" cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table  border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td> 
						<table width='100%' border="0" cellspacing="1" cellpadding="0">
						<tr height=30 align=left>
							<td bgcolor="#FFFFFF">

	<div style="text-align:left;padding-top:5px;">
        <div style="border-bottom:1px solid #CCCCCC;padding:0px;height:26px;">		
		    <div style="float:left;background:url(img/btn_bg.gif) no-repeat;width:53px; height:22px;margin-left:10px"><span id="spanButtonPlaceHolder"></span></div>			
			<div id="divFileProgressContainer" style="height:22px; float:left;"></div>
			<div style="float:right;padding:4px;" class="eng"><span id="fSize" style="color:#FF0000">0</span> KB </div>
		</div>		
		<div id="fileList" style="clear:both;padding:6px;" class="clearfix">
		    <div id="listDefine" style="height:114px;line-height:240%" class="small">
				<center>
				<p style='height:20px'></p>상품의 다른 이미지를 등록 시키시면 됩니다. ( {{ISIZEOT}} )
				<br />동시에 여러개의 파일을 등록 하실 수 있습니다.
				</center>
			</div>		
		</div>
	</div>	


							</td>
						</tr>
						</table>						
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 
<tr><td height=10></td></tr>
<tr>
	<td>
		<div class="left"><img src='./img/g_6th.gif'></div>
		<div class="small" style="float:right;padding:4px 8px 0 0;"><input type="checkbox" name="get_img" value='Y' onclick="alert('상품 상세내역에 링크된 타서버 이미지를 본 쇼핑몰에 저장 후 링크를 변경하는 기능입니다.')" />타서버 이미지 쇼핑몰에 저장</div>
	</td>
</tr>
<tr><td style="padding-left:1px;">
		<textarea name="explan" id="explan">{{explan}}</textarea>
		<script>var explan = new pEditor("explan","../../pEdit","769","400","{{tmp2_dir2}}","basic"); //에디터 생성</script>
    </td>
</tr> 

<tr><td height=10></td></tr>

<!-- DYNAMIC @is_write5@ -->
<tr><td align=center><input type=image src='./img/btn_submit.gif' border=0 onfocus='blur();'>&nbsp;&nbsp;<img src='./img/btn_list.gif' border=0 align="absmiddle" class="hand" onclick="window.location.href='{{back}}.php?{{addstring}}';" /></td></tr>
<!-- DYNAMIC @is_write5@ -->

<!-- DYNAMIC @is_mod42@ -->
<tr><td align=center><input type=image src='./img/btn_msubmit.gif' border=0 onfocus='blur();'>&nbsp;&nbsp;<img src='./img/btn_list.gif' border=0 align="absmiddle" class="hand" onclick="window.location.href='{{back}}.php?{{addstring}}';" /></td></tr>
<input type="hidden" name="uid" value='{{uid}}'>
<input type="hidden" name="mode" value='modify'>
<!-- DYNAMIC @is_mod42@ -->

<tr><td height=20></td></tr>
</table>
</FORM>

			</div>
		</div>
		<div class="bottom"></div>
		</span>		
	</div>
</div>



<script>

<!-- DYNAMIC @is_write6@ -->
var myForm = document.myForm;

for(i=0,cnt=CATEname.length;i<cnt;i++){
    myForm.cate1.options[i]=new Option(CATEname[i][0],CATEnum[i][0]);	
}

myForm.cate1.onchange=function(e){
	for(i=myForm.cate2.length;i>=0;i--){
		myForm.cate2.options[i]=null;
	}
	for(i=myForm.cate3.length;i>=0;i--){
		myForm.cate3.options[i]=null;
	}
	for(i=myForm.cate4.length;i>=0;i--){
		myForm.cate4.options[i]=null;
	}
	
	for(i=1,sIndex=myForm.cate1.selectedIndex,cnt=CATEname[sIndex].slice(1).length;i<=cnt;i++){
		if(CATEname[sIndex][i][0]) myForm.cate2.options[i-1]=new Option(CATEname[sIndex][i][0],CATEnum[sIndex][i][0]);
		else myForm.cate2.options[i-1]=new Option(CATEname[sIndex][i],CATEnum[sIndex][i]);		
	}
	
	document.goodsForm.this_path.value	= "> " + myForm.cate1.options[sIndex].text.split('→')[0];
	myForm.path_cate1.value = "> " + myForm.cate1.options[sIndex].text.split('→')[0];
	document.goodsForm.cate_num.value = myForm.cate1.value;	
}

myForm.cate2.onchange=function(e){
	for(i=myForm.cate3.length;i>=0;i--){
		myForm.cate3.options[i]=null;
	}
	for(i=myForm.cate4.length;i>=0;i--){
		myForm.cate4.options[i]=null;
	}

	for(i=1,sIndex=myForm.cate1.selectedIndex,sIndex2=myForm.cate2.selectedIndex,cnt=CATEname[sIndex][sIndex2+1].slice(1).length;i<=cnt;i++){
		if(typeof(CATEname[sIndex][sIndex2+1][i][0])!='undefined') myForm.cate3.options[i-1]=new Option(CATEname[sIndex][sIndex2+1][i][0],CATEnum[sIndex][sIndex2+1][i][0]);
	}
		
	document.goodsForm.this_path.value	= myForm.path_cate1.value + " > " + myForm.cate2.options[sIndex2].text.split('→')[0];
	myForm.path_cate2.value = myForm.path_cate1.value + " > " + myForm.cate2.options[sIndex2].text.split('→')[0];
	document.goodsForm.cate_num.value =  myForm.cate2.value;
}

myForm.cate3.onchange=function(e){
	for(i=myForm.cate4.length;i>=0;i--){
		myForm.cate4.options[i]=null;
	}
	for(i=1,sIndex=myForm.cate1.selectedIndex,sIndex2=myForm.cate2.selectedIndex,sIndex3=myForm.cate3.selectedIndex,cnt=CATEname[sIndex][sIndex2+1][sIndex3+1].slice(1).length;i<=cnt;i++){
		if(typeof(CATEname[sIndex][sIndex2+1][sIndex3+1][i])!='undefined') myForm.cate4.options[i-1]=new Option(CATEname[sIndex][sIndex2+1][sIndex3+1][i],CATEnum[sIndex][sIndex2+1][sIndex3+1][i]);
	}
   
	document.goodsForm.this_path.value	= myForm.path_cate1.value + " > " + myForm.cate3.options[sIndex3].text.split('→')[0];
	myForm.path_cate3.value = myForm.path_cate2.value + " > " + myForm.cate3.options[sIndex3].text.split('→')[0];
	document.goodsForm.cate_num.value =  myForm.cate3.value;
}

myForm.cate4.onchange=function(e){
	sIndex=myForm.cate4.selectedIndex;   
	document.goodsForm.this_path.value	= myForm.path_cate3.value + " > " + myForm.cate4.options[sIndex].text.split('→')[0];	
	document.goodsForm.cate_num.value = myForm.cate4.value;	
}
<!-- DYNAMIC @is_write6@ -->

{{tmps3}}
{{tmps4}}

for(i=0,cnt=CATEname2.length;i<cnt;i++){
    goodsForm.mcate1.options[i]=new Option(CATEname2[i][0],CATEnum2[i][0]);	
}

goodsForm.mcate2.options[0]=new Option(CATEname2[0][1][0],CATEname2[0][1][0])
goodsForm.mcate3.options[0]=new Option(CATEname2[0][1][1][0],CATEname2[0][1][1][0])
goodsForm.mcate4.options[0]=new Option(CATEname2[0][1][1][1],CATEname2[0][1][1][1])

goodsForm.mcate1.onchange=function(e){
	for(i=goodsForm.mcate2.length;i>0;i--){
		goodsForm.mcate2.options[i]=null;
	}
	for(i=goodsForm.mcate3.length;i>0;i--){
		goodsForm.mcate3.options[i]=null;
	}
	for(i=goodsForm.mcate4.length;i>0;i--){
		goodsForm.mcate4.options[i]=null;
	}
	
	sIndex = goodsForm.mcate1.selectedIndex;
	if(sIndex!=0) {
		for(i=1,cnt=CATEname2[sIndex].slice(1).length;i<=cnt;i++){
			if(CATEname2[sIndex][i][0]) goodsForm.mcate2.options[i]=new Option(CATEname2[sIndex][i][0],CATEnum2[sIndex][i][0]);
			else goodsForm.mcate2.options[i]=new Option(CATEname2[sIndex][i],CATEnum2[sIndex][i]);		
		}	
		goodsForm.mseccate.value = goodsForm.mcate1.value;	
	}
	else goodsForm.mseccate.value = '';
}

goodsForm.mcate2.onchange=function(e){
	for(i=goodsForm.mcate3.length;i>0;i--){
		goodsForm.mcate3.options[i]=null;
	}
	for(i=goodsForm.mcate4.length;i>0;i--){
		goodsForm.mcate4.options[i]=null;
	}

	sIndex2 = goodsForm.mcate2.selectedIndex;
	if(sIndex2!=0) {
		for(i=1,sIndex=goodsForm.mcate1.selectedIndex,cnt=CATEname2[sIndex][sIndex2].slice(1).length;i<=cnt;i++){
			if(typeof(CATEname2[sIndex][sIndex2][i][0])!='undefined') { 
				goodsForm.mcate3.options[i]=new Option(CATEname2[sIndex][sIndex2][i][0],CATEnum2[sIndex][sIndex2][i][0]);
			}
		}
		goodsForm.mseccate.value = goodsForm.mcate2.value;	
	}
	else goodsForm.mseccate.value = goodsForm.mcate1.value;
}

goodsForm.mcate3.onchange=function(e){
	for(i=goodsForm.mcate4.length;i>0;i--){
		goodsForm.mcate4.options[i]=null;
	}
	
	sIndex3 = goodsForm.mcate3.selectedIndex;
	if(sIndex3!=0) {
		for(i=1,sIndex=goodsForm.mcate1.selectedIndex,sIndex2=goodsForm.mcate2.selectedIndex,cnt=CATEname2[sIndex][sIndex2][sIndex3].slice(1).length;i<=cnt;i++){
			if(typeof(CATEname2[sIndex][sIndex2][sIndex3][i])!='undefined') goodsForm.mcate4.options[i]=new Option(CATEname2[sIndex][sIndex2][sIndex3][i],CATEnum2[sIndex][sIndex2][sIndex3][i]);
		}
		goodsForm.mseccate.value = goodsForm.mcate3.value;	
	}	
	else goodsForm.mseccate.value = goodsForm.mcate2.value;
}

goodsForm.mcate4.onchange=function(e){
	sIndex=goodsForm.mcate4.selectedIndex;   
	if(sIndex!=0) goodsForm.mseccate.value = goodsForm.mcate4.value;	
	else goodsForm.mseccate.value = goodsForm.mcate3.value;
}

var tmpDir = new Array();
<!-- DYNAMIC @is_tmp_gdir@ -->
tmpDir[{{cnts}}] = '{{TMP_DIR}}';
<!-- DYNAMIC @is_tmp_gdir@ -->

if(tmpDir.length>0) initList(tmpDir);

var tagDefault	= "태그와 태그 사이는 쉼표(,)로 구분하며, 20개까지 등록 하실 수 있습니다.";
var tagMaxItems	= "20";
var tagMaxLength= "50";
var tagFilter   = "%+&?<>/\\ "; 

if(!document.goodsForm.tag.value) document.goodsForm.tag.value = tagDefault;

var initGoods = "{{op_goods}}";
if(initGoods) {
	secGoods(initGoods,'1');
	tmp = initGoods.split(",");
	for(i=0;i<tmp.length;i++){
		tmp_sgoods[i] = tmp[i];
	}	
	
}

<!-- DYNAMIC @loop_mcate@ -->
goodsForm.mcate1.value = '{{MCATE1}}';
goodsForm.mcate1.onchange();
goodsForm.mcate2.value = '{{MCATE2}}';
goodsForm.mcate2.onchange();
goodsForm.mcate3.value = '{{MCATE3}}';
goodsForm.mcate3.onchange();
goodsForm.mcate4.value = '{{MCATE4}}';
goodsForm.mseccate.value = '{{MCATE}}';
msecCate(1);
<!-- DYNAMIC @loop_mcate@ -->

goodsForm.mcate1.selectedIndex = 0;
goodsForm.mcate1.onchange();


<!-- DYNAMIC @loop_special@ -->
goodsForm.special_list.value = '{{SPECIAL}}';
secSpecial(1);
<!-- DYNAMIC @loop_special@ -->

<!-- DYNAMIC @loop_info@ -->
opAdd2('{{opTypes}}','{{opName1}}','{{opContent1}}','{{opName2}}','{{opContent2}}','{{opUid2}}','1');
<!-- DYNAMIC @loop_info@ -->

<!-- DYNAMIC @loop_options@ -->
opAdd('{{opType1}}','{{opType2}}','{{opPrice}}','{{opDisplay}}','{{opQty}}','{{opCode}}','{{opUid}}','1');
<!-- DYNAMIC @loop_options@ -->

goodsForm.sequence.value = "{{sequence}}";

pE[0] = explan;

ck_bg('qty',1);
ck_bg('reserve',1);
ck_bg('carriage',1);

if('{{DSP24}}'=='checked') ck_bg('qty',2);
if('{{DSP33}}'=='checked') ck_bg('reserve',2);
if('{{DSP43}}'=='checked') ck_bg('carriage',2);

</script>