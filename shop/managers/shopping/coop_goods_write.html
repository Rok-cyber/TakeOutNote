<SCRIPT LANGUAGE="JavaScript">
<!--

var tmp_sgoods = new Array();

function ck_display(num,st) {
	var form = document.goodsForm; 
	for (i = cnt = 0; i < form.elements.length; i++) {
			eval("if(form.elements[i].name == 'dsp"+num+"[]' && form.elements[i].value!=st )  form.elements[i].checked = false; ")
			eval("if(form.elements[i].name == 'dsp"+num+"[]' && form.elements[i].value==st )  form.elements[i].checked = true; ")
	}
}

function tagFocus(){
	if(document.goodsForm.tag.value==tagDefault) document.goodsForm.tag.value='';
}

function tagSec(str){
	var f = document.goodsForm.tag;	
	tagFocus();

	if(f.value != '' && f.value.charAt(f.value.length-1) != ',')
		f.value+=',';
	f.value += str;
	tagCheck(true);
}

function tagCheck(check){
	var f = document.goodsForm.tag;	
	var tagList = f.value.split(",");
	var tagNum  = tagList.length;
	var result  = tagCheck2(tagList[0]);
	var dupli   = true;
	

	if( tagNum > tagMaxItems){
		tagNum = tagMaxItems;
		check=true;
	}
    
	if(tagList[tagNum-1]=='') check = true;
	if(tagNum==1 || !check) return;

	for(i=1;i<tagNum;i++){
		tagList[i] = tagCheck2(tagList[i]);		
		if(tagList[i]=='' && i!=tagNum-1) continue;
		dupli = true;
		for(var j=0; j<i; j++){
			if(tagList[i] == tagList[j]) {
				dupli = false;
				break;
			}
		}		
		if(dupli) result += ','+tagList[i];		
	}
	f.value = result;	
}

function tagCheck2 (tag){
	var NewTag = "";
	for(var i=0;i<tag.length;i++)
		if (tagFilter.indexOf(tag.charAt(i)) == -1) NewTag += tag.charAt(i);
	tag = NewTag;

	if (tag.length>tagMaxLength)
		tag = tag.substring(0, tagMaxLength);
	return tag;
}


function secGoods(str,ck) {
	if(!str) return;

	aObj = new AjaxObject; 
	tmps = str.split(',');
	tmps2 = ''; 
		
	for(i=0;i<tmps.length;i++){
		cnt = tmp_sgoods.length;
		cks = 0;
		if(tmps[i]) {
			for(j=0;j<cnt;j++) {
				if(tmps[i]==tmp_sgoods[j]) {
					cks = 1;
					break;
				}
			}
			
			if(cks==0) {				
				tmp_sgoods[cnt] = tmps[i];	
				if(!tmps2) tmps2 = tmps[i];
				else tmps2 += ','+tmps[i];	
			}
		}
	}
	if(tmps2) aObj.getHttpRequest("goodsInfo.php?uid="+tmps2, "addGoods","data"); 
	if(!ck) pLightBox.hide();	
}

function addGoods(data){
	if(typeof(data['error'])!='undefined') {
		alert("리스트를 가져오는 중 에러가 발생했씁니다.");
		return;
	}

	if(typeof(data['item'])=='undefined') return;
	var gList = document.getElementById("goodsList");
	
	for(i=0,cnt=data['item'].length;i<cnt;i++){		
		nList = document.createElement("div");
	
		iHtml =  '<div style="text-align:center"><a href="{{SMain}}?channel=view&uid='+data['item'][i]['uid']+'" target=_blank  title="쇼핑몰 상세설명 보기">'+data['item'][i]['image']+'</a></div>';
		iHtml += '<div style="padding-top:4px;height:26px;overflow:hidden"><a href="../shopping/goods_write.php?mode=modify&uid='+data['item'][i]['uid']+'" target=_blank  title="상품수정하기">'+data['item'][i]['name']+'</a></div>';
		iHtml += '<div class="eng green">'+data['item'][i]['price']+'원 &nbsp;<img src="../shopping/img/icon_del.gif" border="0" align="absmiddle" class="hand" onclick="delGoods('+data['item'][i]['uid']+');" /></div>';
		
		if(data['item'][i]['sout']!='') {
			iHtml += '<div style="position:relative;left:0px;top:-123px;width:36px;height:16px;border:1px solid #ff6600;background-color:#fff" class="small orange"><div style="padding:3px 8px 0 8px;">'+data['item'][i]['sout']+'</div></div>';
		}
		nList.id = "goods_" + data['item'][i]['uid'];	
		nList.className = 'small goodsDiv';
		nList.style.position = "relative";
		nList.innerHTML = iHtml;
		
		gList.appendChild(nList);
	}
	document.getElementById("noGoods").style.display = 'none';		
}

function delGoods(num) {
	if(!num) return;
	
	gList = document.getElementById("goodsList");
	element = document.getElementById('goods_'+num);
	
	element.innerHtml ='';
	gList.removeChild(element);
	
	if(document.selection) var cnt = gList.childNodes.length;
	else var cnt = gList.childNodes.length -2;

	for(i=0;i<tmp_sgoods.length;i++){
		if(tmp_sgoods[i]==num) tmp_sgoods[i]='';
	}
        
	if(cnt==1) {			
		document.getElementById("noGoods").style.display = 'block';	
	}			
}

/*************************  옵션 상품 관리 ***************************/

var opCnt = 0;
var opCntInc = 0;
var opSec = 0;

function opAdd(opType1,opType2,opPrice,opDisplay,opQty,opCode,opUid,ck){
	var opList = document.getElementById("opList");	
	
	if(!opType1) {
		if(document.goodsForm.option_default.value) opType1 = document.goodsForm.option_default.value;
		else opType1 = '';
	}
	if(!opType2) opType2 = '';
	if(!opPrice) opPrice = 0;
	if(!opQty) opQty = 0;
	if(!opCode) opCode = '';
	if(!opUid) opUid = '';

	opCnt++;
	opCntInc++;
	newRow = document.createElement('TR');	
	
	newCell = document.createElement('TD');	
	newCell.innerHTML = opCnt;
	newCell.className = "eng b_op2 b_left";
	newCell.id = "opList_num_"+opCntInc;	
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="checkbox" name="opItem[]" value="'+opCntInc+'">';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="text" name="opType1[]" size="17" class="ta" value="'+opType1+'">';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="text" name="opType2[]" size="30" class="ta" value="'+opType2+'">';
	newRow.appendChild(newCell);
	
	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="text" name="opPrice[]" size="9" class="ta2 eng" onkeyup="onlyNum(this);" onkeydown="onlyNum(this);" onfocus="this.select();"  value="'+opPrice+'">';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	if(opDisplay=='N') newCell.innerHTML = '<select name="opDisplay[]"><option value="Y">Y</option><option value="N" selected>N</option></select>';
	else newCell.innerHTML = '<select name="opDisplay[]"><option value="Y">Y</option><option value="N">N</option></select>';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="text" name="opQty[]" size="8" class="ta2 eng" onkeyup="onlyNum(this);" onkeydown="onlyNum(this);" onfocus="this.select();" value="'+opQty+'" onblur="cgQty(this.value)">';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="text" name="opCode[]" size="16" class="ta" value="'+opCode+'"><input type="hidden" name="opUid[]" class="ta" value="'+opUid+'">';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	if(opQty==0) newCell.innerHTML = '품절';
	else newCell.innerHTML = '정상';
	newCell.id = "opList_state_"+opCntInc;
	newRow.appendChild(newCell);	
	
	newRow.style.backgroundColor = "#FFF";
	newRow.style.height = '24px';
	newRow.id = "opList_"+opCntInc;
	newRow.num = opCntInc;
	newRow.onclick = function() {
		if(opSec!=0) document.getElementById("opList_"+opSec).style.backgroundColor = '#fff';
		opSec = this.num; 
		this.style.backgroundColor = '#efefef';
	}
	opList.appendChild(newRow);

	if(opCnt==1) document.getElementById('opListNo').style.display='none';
	return false;
}

function opAll(){
	if(opCnt==0) return false;
	f = document.goodsForm;
	
	for (i=ck=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name == 'opItem[]') f.elements[i].checked = true;
	}
	return false;
}

function opDel(){
	if(opCnt==0) return false;
	var f = document.goodsForm;
	var opList = document.getElementById("opList");	
	var delList = new Array();
	
	for (i=j=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opItem[]' && f.elements[i].checked == true) {
			delList[j] = f.elements[i].value;
			j++;
		}
	}	

	if(j==0) {
		alert("삭제할 항목을 선택 하시기 바랍니다");
		return false;
	}

	for (i=0,cnt=delList.length;i<cnt;i++) {
		opList.removeChild(document.getElementById('opList_'+delList[i]));
	}


	opCnt = opCnt - j;

	if(opCnt==0) {
		document.getElementById('opListNo').style.display='block';
		return false;
	}
	
	for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opItem[]') {
			tmp = f.elements[i].value;
			document.getElementById("opList_num_"+tmp).innerHTML = j;		
			document.getElementById("opList_"+tmp).style.backgroundColor = '#fff';
			j++;
		}
	}

	opSec = 0;
	return false;	
}

function opSecMod(){
	if(opCnt==0) return false;
	var f = document.goodsForm;
	var secList = new Array();

	for (i=j=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opItem[]' && f.elements[i].checked == true) {
			secList[j] = f.elements[i].value;
			j++;
		}
	}	

	if(j==0) {
		alert("공통적용할 항목을 선택 하시기 바랍니다");
		return false;
	}

	for (i=0,cnt=secList.length;i<cnt;i++) {
		secListNum = document.getElementById("opList_num_"+secList[i]).innerHTML;			
		
		for (ii=0,c11=1,cnti=f.elements.length;ii<cnti;ii++) {
			if(f.elements[ii].name =='opDisplay[]') {
				if(c11==secListNum) {
					f.elements[ii].value = f.opDisplay2.value; 
					break;
				}
				else c11++;
			}
		}
		for (ii=0,c11=1,cnti=f.elements.length;ii<cnti;ii++) {
			if(f.elements[ii].name =='opQty[]') {
				if(c11==secListNum) {
					f.elements[ii].value = f.opQty2.value; 
					break;
				}
				else c11++;
			}
		}
		for (ii=0,c11=1,cnti=f.elements.length;ii<cnti;ii++) {
			if(f.elements[ii].name =='opCode[]') {
				if(c11==secListNum) {
					f.elements[ii].value = f.opCode2.value; 
					break;
				}
				else c11++;
			}
		}
	}
	
	f.opDisplay2.value = 'Y'; 
	f.opQty2.value = '';
	f.opCode2.value = ''; 
	return false;	
}

function opInit(){
	if(opCnt==0) return false;
	if(confirm('정말로 초기화 하겠습니다? 초기화 하시면 모든 항목이 삭제 됩니다.')){
		opAll();
		opDel();
	}
	return false;
}

function opSort(mode){
	if(opSec==0) {
		alert("먼저 이동할 항목을 선택 하시기 바랍니다.");
		return false;
	}
	if(opCnt<2) return false;
	
	var f = document.goodsForm;

	switch(mode) {
		case "top" : 
			if(opSec==1) return false;
			for (ii=opSec;ii>1;ii--) {				
				cgOp((opSec-1),(opSec));
				opSec--;
				if(opSec==1) break;
			}	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem[]') {					
					tmp = f.elements[i].value;					
					if(opSec==j) document.getElementById("opList_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}			
		break;
		case "bottom" :
			if(opSec==opCnt) return false;
			for (ii=opSec;ii<opCnt;ii++) {				
				cgOp((opSec),(opSec+1));
				
				opSec++;
				if(opSec==opCnt) break;
			}	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem[]') {					
					tmp = f.elements[i].value;					
					if(opSec==j) document.getElementById("opList_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}
		break;
		case "down" : 
			if(opSec==opCnt) return false;
			cgOp(opSec,(opSec+1));
			
			opSec++;	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem[]') {					
					tmp = f.elements[i].value;					
					if(opSec==j) document.getElementById("opList_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}					
		break;

		case "up" : 
			if(opSec==1) return false;
			cgOp((opSec-1),opSec);
			
			opSec--;	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem[]') {					
					tmp = f.elements[i].value;					
					if(opSec==j) document.getElementById("opList_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}					
		break;


	}
	return false;	
}

function cgQty(vls){
	var f = document.goodsForm;
	var secNum = 0;
	
	for (i=0,c=1,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opItem[]') {
			if(c==opSec) {
				secNum = f.elements[i].value;			
				break;
			}
			else c++;
		}
	}
	if(secNum==0) return false;
	if(vls>0) document.getElementById("opList_state_"+secNum).innerHTML = "정상";			
	else document.getElementById("opList_state_"+secNum).innerHTML = "품절";			
}

function cgOp(num1,num2) {
	var f = document.goodsForm;
	var tmp1 = tmp2 = tmp3 = tmp4 = tmp5 = tmp6 = tmp7 = tmp8 = tmp9 = null;
	var tmp_num11 = tmp_num12 = tmp_num13 = tmp_num14 = tmp_num15 = tmp_num16 = tmp_num17 = null;
	var tmp_num21 = tmp_num22 = tmp_num23 = tmp_num24 = tmp_num25 = tmp_num26 = tmp_num27 = null;
	var c11 = c12 = c13 = c14 = c15 = c16 = c17 = c18 = 1
	var c21 = c22 = c23 = c24 = c25 = c26 = c27 = c28 = 1

	for (i=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opType1[]' && tmp_num11==null) {
			if(c11==num1) {
				tmp1 = f.elements[i].value;			
				tmp_num11 = i;				
			}
			else c11++;
		}
		if(f.elements[i].name =='opType2[]' && tmp_num12==null) {
			if(c12==num1) {
				tmp2 = f.elements[i].value;			
				tmp_num12 = i
			}
			else c12++;
		}
		if(f.elements[i].name =='opPrice[]' && tmp_num13==null) {
			if(c13==num1) {
				tmp3 = f.elements[i].value;			
				tmp_num13 = i
			}
			else c13++;
		}
		if(f.elements[i].name =='opDisplay[]' && tmp_num14==null) {
			if(c14==num1) {
				tmp4 = f.elements[i].value;			
				tmp_num14 = i
			}
			else c14++;
		}
		if(f.elements[i].name =='opQty[]' && tmp_num15==null) {
			if(c15==num1) {
				tmp5 = f.elements[i].value;			
				tmp_num15 = i
			}
			else c15++;
		}
		if(f.elements[i].name =='opCode[]' && tmp_num16==null) {
			if(c16==num1) {
				tmp6 = f.elements[i].value;			
				tmp_num16 = i
			}
			else c16++;
		}
		if(f.elements[i].name =='opUid[]' && tmp_num17==null) {
			if(c17==num1) {
				tmp7 = f.elements[i].value;			
				tmp_num17 = i
			}
			else c17++;
		}
		if(f.elements[i].name =='opItem[]' && tmp8==null) {
			if(c18==num1) {
				tmp8 = f.elements[i].value;			
			}
			else c18++;
		}
		

		if(f.elements[i].name =='opType1[]' && tmp_num21==null) {
			if(c21==num2) {
				tmp_num21 = i;
			}
			else c21++;
		}
		if(f.elements[i].name =='opType2[]' && tmp_num22==null) {
			if(c22==num2) {
				tmp_num22 = i
			}
			else c22++;
		}
		if(f.elements[i].name =='opPrice[]' && tmp_num23==null) {
			if(c23==num2) {
				tmp_num23 = i
			}
			else c23++;
		}
		if(f.elements[i].name =='opDisplay[]' && tmp_num24==null) {
			if(c24==num2) {
				tmp_num24 = i
			}
			else c24++;
		}
		if(f.elements[i].name =='opQty[]' && tmp_num25==null) {
			if(c25==num2) {
				tmp_num25 = i
			}
			else c25++;
		}
		if(f.elements[i].name =='opCode[]' && tmp_num26==null) {
			if(c26==num2) {
				tmp_num26 = i
			}
			else c26++;
		}
		if(f.elements[i].name =='opUid[]' && tmp_num27==null) {
			if(c27==num2) {
				tmp_num27 = i
			}
			else c27++;
		}
		if(f.elements[i].name =='opItem[]' && tmp9==null) {
			if(c28==num2) {
				tmp9 = f.elements[i].value;			
			}
			else c28++;
		}
	}
	
	f.elements[tmp_num11].value = f.elements[tmp_num21].value;
	f.elements[tmp_num12].value = f.elements[tmp_num22].value;
	f.elements[tmp_num13].value = f.elements[tmp_num23].value;
	f.elements[tmp_num14].value = f.elements[tmp_num24].value;
	f.elements[tmp_num15].value = f.elements[tmp_num25].value;
	f.elements[tmp_num16].value = f.elements[tmp_num26].value;
	f.elements[tmp_num17].value = f.elements[tmp_num27].value;

	f.elements[tmp_num21].value = tmp1;
	f.elements[tmp_num22].value = tmp2;
	f.elements[tmp_num23].value = tmp3;
	f.elements[tmp_num24].value = tmp4;
	f.elements[tmp_num25].value = tmp5;
	f.elements[tmp_num26].value = tmp6;
	f.elements[tmp_num27].value = tmp7;
	
	if(f.elements[tmp_num15].value>0) document.getElementById("opList_state_"+tmp8).innerHTML = "정상";			
	else document.getElementById("opList_state_"+tmp8).innerHTML = "품절";			

	if(f.elements[tmp_num25].value>0) document.getElementById("opList_state_"+tmp9).innerHTML = "정상";			
	else document.getElementById("opList_state_"+tmp9).innerHTML = "품절";			
	
}

/*************************  @옵션 상품 관리 ***************************/

/*************************  상품 필수 정보 관리 ***************************/

var opCnt2 = 0;
var opCntInc2 = 0;
var opSec2 = 0;

function opAdd2(type,opName1,opContent1,opName2,opContent2,opUid2,ck){
	var opList = document.getElementById("opList2");	
	
	if(!type) type = 2;
	if(!opName1) opName1 = '';
	if(!opContent1) opContent1 = '';
	if(!opName2) opName2 = '';
	if(!opContent2) opContent2 = '';	
	if(!opUid2) opUid2 = '';

	opCnt2++;
	opCntInc2++;
	newRow = document.createElement('TR');	
	
	newCell = document.createElement('TD');	
	newCell.innerHTML = opCnt2;
	newCell.className = "eng b_op2 b_left";
	newCell.id = "opList2_num_"+opCntInc2;	
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="checkbox" name="opItem2[]" value="'+opCntInc2+'">';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="text" name="opName1[]" class="ta op_w1" value="'+opName1+'"><input type="hidden" name="opUid2[]" class="ta" value="'+opUid2+'">';
	newRow.appendChild(newCell);
	
	newCell = document.createElement('TD');	
	newCell.colSpan = 3;
	newCell.style.width = '75%';
	newCell.className = "b_op2";
	if(type==2) {		
		tmps  = '<div id="opContent1_'+opCntInc2+'" class="left" style="width:40%"><input id="opName1_'+opCntInc2+'" type="text" name="opContent1[]" class="ta op_w2" value="'+opContent1+'"></div>';
		tmps += '<div id="opContent2_'+opCntInc2+'" class="left" style="width:20%;"><input type="text" name="opName2[]" class="ta op_w1" value="'+opName2+'"></div>';
		tmps += '<div id="opContent3_'+opCntInc2+'" class="left" style="width:39%;"><input type="text" name="opContent2[]" class="ta op_w3" value="'+opContent2+'"></div>';		
	}
	else {
		tmps  = '<div id="opContent1_'+opCntInc2+'" class="left" style="width:100%"><input id="opName1_'+opCntInc2+'" type="text" name="opContent1[]" class="ta op_w3" value="'+opContent1+'"></div>';
		tmps += '<div id="opContent2_'+opCntInc2+'" class="left" style="display:none;"><input type="text" name="opName2[]" class="ta op_w1" value="x"></div>';
		tmps += '<div id="opContent3_'+opCntInc2+'" class="left" style="display:none;"><input type="text" name="opContent2[]" class="ta op_w3" value="x"></div>';
	}
	newCell.innerHTML = tmps;
	newRow.appendChild(newCell);

	newRow.style.backgroundColor = "#FFF";
	newRow.style.height = '24px';
	newRow.id = "opList2_"+opCntInc2;
	newRow.num = opCntInc2;
	newRow.onclick = function() {
		if(opSec2!=0 && $("opList2_"+opSec2)) document.getElementById("opList2_"+opSec2).style.backgroundColor = '#fff';
		opSec2 = this.num; 
		this.style.backgroundColor = '#efefef';
	}
	opList.appendChild(newRow);

	if(opCnt2==1) document.getElementById('opListNo2').style.display='none';
	return false;
}

function opAll2(){
	if(opCnt2==0) return false;
	f = document.goodsForm;
	
	for (i=ck=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name == 'opItem2[]') f.elements[i].checked = true;
	}
	return false;
}

function opDel2(){
	if(opCnt2==0) return false;
	var f = document.goodsForm;
	var opList = document.getElementById("opList2");	
	var delList = new Array();
	
	for (i=j=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opItem2[]' && f.elements[i].checked == true) {
			delList[j] = f.elements[i].value;
			j++;
		}
	}	

	if(j==0) {
		alert("삭제할 항목을 선택 하시기 바랍니다");
		return false;
	}

	for (i=0,cnt=delList.length;i<cnt;i++) {
		opList.removeChild(document.getElementById('opList2_'+delList[i]));
	}


	opCnt2 = opCnt2 - j;

	if(opCnt2==0) {
		document.getElementById('opListNo2').style.display='block';
		return false;
	}
	
	for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opItem2[]') {
			tmp = f.elements[i].value;
			document.getElementById("opList2_num_"+tmp).innerHTML = j;		
			document.getElementById("opList2_"+tmp).style.backgroundColor = '#fff';
			j++;
		}
	}

	opSec2 = 0;
	return false;	
}

function opSecMod2(){
	if(opCnt2==0) return false;
	var f = document.goodsForm;
	var secList = new Array();

	for (i=j=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='opItem2[]' && f.elements[i].checked == true) {
			secList[j] = f.elements[i].value;
			j++;
		}
	}	

	if(j==0) {
		alert("공통적용할 항목을 선택 하시기 바랍니다");
		return false;
	}

	for (i=0,cnt=secList.length;i<cnt;i++) {
		secListNum = document.getElementById("opList2_num_"+secList[i]).innerHTML;			
	}
	
	return false;	
}

function opInit2(){
	if(opCnt2==0) return false;
	if(confirm('정말로 초기화 하겠습니다? 초기화 하시면 모든 항목이 삭제 됩니다.')){
		opAll2();
		opDel2();
	}
	return false;
}

function opSort2(mode){
	if(opSec2==0) {
		alert("먼저 이동할 항목을 선택 하시기 바랍니다.");
		return false;
	}
	if(opCnt2<2) return false;
	
	var f = document.goodsForm;

	switch(mode) {
		case "top" : 
			if(opSec2==1) return false;
			for (ii=opSec2;ii>1;ii--) {				
				cgOp2((opSec2-1),(opSec2));
				opSec2--;
				if(opSec2==1) break;
			}	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem2[]') {					
					tmp = f.elements[i].value;					
					if(opSec2==j) document.getElementById("opList2_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList2_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}			
		break;
		case "bottom" :
			if(opSec2==opCnt2) return false;
			for (ii=opSec2;ii<opCnt2;ii++) {				
				cgOp2((opSec2),(opSec2+1));
				
				opSec2++;
				if(opSec2==opCnt2) break;
			}	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem2[]') {					
					tmp = f.elements[i].value;					
					if(opSec2==j) document.getElementById("opList2_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList2_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}
		break;
		case "down" : 
			if(opSec2==opCnt2) return false;
			cgOp2(opSec2,(opSec2+1));
			
			opSec2++;	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem2[]') {					
					tmp = f.elements[i].value;					
					if(opSec2==j) document.getElementById("opList2_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList2_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}					
		break;

		case "up" : 
			if(opSec2==1) return false;
			cgOp2((opSec2-1),opSec2);
			
			opSec2--;	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='opItem2[]') {					
					tmp = f.elements[i].value;					
					if(opSec2==j) document.getElementById("opList2_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("opList2_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}					
		break;


	}
	return false;	
}


function cgOp2(num1,num2) {
	var f = document.goodsForm;
	var tmp1 = tmp2 = tmp3 = tmp4 = tmp5 = tmp6 = tmp7 = null;
	var tmp_num11 = tmp_num12 = tmp_num13 = tmp_num14 = tmp_num15 = null;
	var tmp_num21 = tmp_num22 = tmp_num23 = tmp_num24 = tmp_num25 = null;
	var c11 = c12 = c13 = c14 = c15 = c16 = 1;
	var c21 = c22 = c23 = c24 = c25 = c26 = 1;
	
	for (i=0,cnt=f.elements.length;i<cnt;i++) {
		
		if(f.elements[i].name =='opItem2[]' && tmp6==null) {
			if(c16==num1) {
				tmp6 = f.elements[i].value;	
				document.getElementById("opContent2_"+tmp6).style.display = 'block';
				document.getElementById("opContent3_"+tmp6).style.display = 'block';
			}
			else c16++;
		}
		if(f.elements[i].name =='opName1[]' && tmp_num11==null) {
			if(c11==num1) {
				tmp1 = f.elements[i].value;			
				tmp_num11 = i;				
			}
			else c11++;
		}
		if(f.elements[i].name =='opContent1[]' && tmp_num12==null) {
			if(c12==num1) {
				tmp2 = f.elements[i].value;			
				tmp_num12 = i
			}
			else c12++;
		}
		if(f.elements[i].name =='opName2[]' && tmp_num13==null) {
			if(c13==num1) {
				tmp3 = f.elements[i].value;			
				tmp_num13 = i
			}
			else c13++;
		}
		if(f.elements[i].name =='opContent2[]' && tmp_num14==null) {
			if(c14==num1) {
				tmp4 = f.elements[i].value;			
				tmp_num14 = i
			}
			else c14++;
		}
		if(f.elements[i].name =='opUid2[]' && tmp_num15==null) {
			if(c15==num1) {
				tmp5 = f.elements[i].value;			
				tmp_num15 = i
			}
			else c15++;
		}		
		
		if(f.elements[i].name =='opItem2[]' && tmp7==null) {
			if(c26==num2) {
				tmp7 = f.elements[i].value;			
				document.getElementById("opContent2_"+tmp7).style.display = 'block';
				document.getElementById("opContent3_"+tmp7).style.display = 'block';
			}
			else c26++;
		}
		if(f.elements[i].name =='opName1[]' && tmp_num21==null) {
			if(c21==num2) {
				tmp_num21 = i;
			}
			else c21++;
		}
		if(f.elements[i].name =='opContent1[]' && tmp_num22==null) {
			if(c22==num2) {
				tmp_num22 = i
			}
			else c22++;
		}
		if(f.elements[i].name =='opName2[]' && tmp_num23==null) {
			if(c23==num2) {
				tmp_num23 = i
			}
			else c23++;
		}
		if(f.elements[i].name =='opContent2[]' && tmp_num24==null) {
			if(c24==num2) {
				tmp_num24 = i
			}
			else c24++;
		}
		if(f.elements[i].name =='opUid2[]' && tmp_num25==null) {
			if(c25==num2) {
				tmp_num25 = i
			}
			else c25++;
		}				
	}
	
	f.elements[tmp_num11].value = f.elements[tmp_num21].value;
	f.elements[tmp_num12].value = f.elements[tmp_num22].value;
	f.elements[tmp_num13].value = f.elements[tmp_num23].value;
	f.elements[tmp_num14].value = f.elements[tmp_num24].value;
	f.elements[tmp_num15].value = f.elements[tmp_num25].value;
	
	f.elements[tmp_num21].value = tmp1;
	f.elements[tmp_num22].value = tmp2;
	f.elements[tmp_num23].value = tmp3;
	f.elements[tmp_num24].value = tmp4;
	f.elements[tmp_num25].value = tmp5;


	if(f.elements[tmp_num13].value!='x') {
		document.getElementById("opContent1_"+tmp6).style.width = '40%';
		document.getElementById("opName1_"+tmp6).className = 'ta op_w2'
		document.getElementById("opContent2_"+tmp6).style.width = '20%';
		document.getElementById("opContent3_"+tmp6).style.width = '39%';			
	}
	else {
		document.getElementById("opContent1_"+tmp6).style.width = '100%'
		document.getElementById("opName1_"+tmp6).className = 'ta op_w3'
		document.getElementById("opContent2_"+tmp6).style.display = 'none';
		document.getElementById("opContent3_"+tmp6).style.display = 'none';
	}
	
	if(f.elements[tmp_num23].value!='x') {
		document.getElementById("opContent1_"+tmp7).style.width = '40%';
		document.getElementById("opName1_"+tmp7).className = 'ta op_w2'
		document.getElementById("opContent2_"+tmp7).style.width = '20%';
		document.getElementById("opContent3_"+tmp7).style.width = '39%';	
	}
	else {
		document.getElementById("opContent1_"+tmp7).style.width = '100%';
		document.getElementById("opName1_"+tmp7).className = 'ta op_w3'
		document.getElementById("opContent2_"+tmp7).style.display = 'none';
		document.getElementById("opContent3_"+tmp7).style.display = 'none';
	}

}
/*************************  @상품 필수 정보 관리 ***************************/

/*************************  @신청 수량별 공구가 관리 ***************************/

var coopCnt = 0;
var coopCntInc = 0;
var coopSec = 0;

function coopAdd(coopQty,coopPrice,coopCode,coopUid,ck){
	var coopList = document.getElementById("coopList");	
	
	if(!coopQty) coopQty = 0;
	if(!coopPrice) coopPrice = 0;
	if(!coopCode) coopCode = '';
	if(!coopUid) coopUid = '';

	coopCnt++;
	coopCntInc++;
	newRow = document.createElement('TR');	
	
	newCell = document.createElement('TD');	
	newCell.innerHTML = coopCnt;
	newCell.className = "eng b_op2 b_left";
	newCell.id = "coopList_num_"+coopCntInc;	
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="checkbox" name="coopItem[]" value="'+coopCntInc+'">';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="text" name="coopQty[]" size="20" class="ta2 eng" onkeyup="onlyNum(this);" onkeydown="onlyNum(this);" onfocus="this.select();" value="'+coopQty+'">';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="text" name="coopPrice[]" size="20" class="ta2 eng" onkeyup="onlyNum(this);" onkeydown="onlyNum(this);" onfocus="this.select();"  value="'+coopPrice+'">';
	newRow.appendChild(newCell);

	newCell = document.createElement('TD');	
	newCell.className = "b_op2";
	newCell.innerHTML = '<input type="text" name="coopCode[]" size="45" class="ta" value="'+coopCode+'"><input type="hidden" name="coopUid[]" class="ta" value="'+coopUid+'">';
	newRow.appendChild(newCell);

	newRow.style.backgroundColor = "#FFF";
	newRow.style.height = '24px';
	newRow.id = "coopList_"+coopCntInc;
	newRow.num = coopCntInc;
	newRow.onclick = function() {
		if(coopSec!=0 && $("coopList_"+coopSec)) document.getElementById("coopList_"+coopSec).style.backgroundColor = '#fff';
		coopSec = this.num; 
		this.style.backgroundColor = '#efefef';
	}
	coopList.appendChild(newRow);

	if(coopCnt==1) document.getElementById('coopListNo').style.display='none';
	return false;
}

function coopAll(){
	if(coopCnt==0) return false;
	f = document.goodsForm;
	
	for (i=ck=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name == 'coopItem[]') f.elements[i].checked = true;
	}
	return false;
}

function coopDel(){
	if(coopCnt==0) return false;
	var f = document.goodsForm;
	var coopList = document.getElementById("coopList");	
	var delList = new Array();
	
	for (i=j=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='coopItem[]' && f.elements[i].checked == true) {
			delList[j] = f.elements[i].value;
			j++;
		}
	}	

	if(j==0) {
		alert("삭제할 항목을 선택 하시기 바랍니다");
		return false;
	}

	for (i=0,cnt=delList.length;i<cnt;i++) {
		coopList.removeChild(document.getElementById('coopList_'+delList[i]));
	}

	coopCnt = coopCnt - j;

	if(coopCnt==0) {
		document.getElementById('coopListNo').style.display='block';
		return false;
	}
	
	for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='coopItem[]') {
			tmp = f.elements[i].value;
			document.getElementById("coopList_num_"+tmp).innerHTML = j;		
			document.getElementById("coopList_"+tmp).style.backgroundColor = '#fff';
			j++;
		}
	}

	coopSec = 0;
	return false;	
}

function coopInit(){
	if(coopCnt==0) return false;
	if(confirm('정말로 초기화 하겠습니다? 초기화 하시면 모든 항목이 삭제 됩니다.')){
		coopAll();
		coopDel();
	}
	return false;
}

function coopSort(mode){
	if(coopSec==0) {
		alert("먼저 이동할 항목을 선택 하시기 바랍니다.");
		return false;
	}
	if(coopCnt<2) return false;
	
	var f = document.goodsForm;

	switch(mode) {
		case "top" : 
			if(coopSec==1) return false;
			for (ii=coopSec;ii>1;ii--) {				
				cgCoop((coopSec-1),(coopSec));
				coopSec--;
				if(coopSec==1) break;
			}	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='coopItem[]') {					
					tmp = f.elements[i].value;					
					if(coopSec==j) document.getElementById("coopList_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("coopList_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}			
		break;
		case "bottom" :
			if(coopSec==coopCnt) return false;
			for (ii=coopSec;ii<coopCnt;ii++) {				
				cgCoop((coopSec),(coopSec+1));
				
				coopSec++;
				if(coopSec==coopCnt) break;
			}	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='coopItem[]') {					
					tmp = f.elements[i].value;					
					if(coopSec==j) document.getElementById("coopList_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("coopList_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}
		break;
		case "down" : 
			if(coopSec==coopCnt) return false;
			cgCoop(coopSec,(coopSec+1));
			
			coopSec++;	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='coopItem[]') {					
					tmp = f.elements[i].value;					
					if(coopSec==j) document.getElementById("coopList_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("coopList_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}					
		break;

		case "up" : 
			if(coopSec==1) return false;
			cgCoop((coopSec-1),coopSec);
			
			coopSec--;	

			for (i=0,j=1,cnt=f.elements.length;i<cnt;i++) {
				if(f.elements[i].name =='coopItem[]') {					
					tmp = f.elements[i].value;					
					if(coopSec==j) document.getElementById("coopList_"+tmp).style.backgroundColor = '#efefef';
					else document.getElementById("coopList_"+tmp).style.backgroundColor = '#fff';
					j++;
				}
			}					
		break;


	}
	return false;	
}

function cgCoop(num1,num2) {
	var f = document.goodsForm;
	var tmp1 = tmp2 = tmp3 = tmp4 = tmp5 = tmp6 = tmp7 = tmp8 = tmp9 = null;
	var tmp_num11 = tmp_num12 = tmp_num13 = tmp_num14 = null;
	var tmp_num21 = tmp_num22 = tmp_num23 = tmp_num24 = null;
	var c11 = c12 = c13 = c14 = c15 = 1
	var c21 = c22 = c23 = c24 = c25 = 1

	for (i=0,cnt=f.elements.length;i<cnt;i++) {
		if(f.elements[i].name =='coopQty[]' && tmp_num11==null) {
			if(c11==num1) {
				tmp1 = f.elements[i].value;			
				tmp_num11 = i;				
			}
			else c11++;
		}
		if(f.elements[i].name =='coopPrice[]' && tmp_num12==null) {
			if(c12==num1) {
				tmp2 = f.elements[i].value;			
				tmp_num12 = i
			}
			else c12++;
		}
		if(f.elements[i].name =='coopCode[]' && tmp_num13==null) {
			if(c13==num1) {
				tmp3 = f.elements[i].value;			
				tmp_num13 = i
			}
			else c13++;
		}
		if(f.elements[i].name =='coopUid[]' && tmp_num14==null) {
			if(c14==num1) {
				tmp4 = f.elements[i].value;			
				tmp_num14 = i
			}
			else c14++;
		}		
		if(f.elements[i].name =='coopItem[]' && tmp5==null) {
			if(c15==num1) {
				tmp5 = f.elements[i].value;			
			}
			else c15++;
		}		

		if(f.elements[i].name =='coopQty[]' && tmp_num21==null) {
			if(c21==num2) {
				tmp_num21 = i;
			}
			else c21++;
		}
		if(f.elements[i].name =='coopPrice[]' && tmp_num22==null) {
			if(c22==num2) {
				tmp_num22 = i
			}
			else c22++;
		}
		if(f.elements[i].name =='coopCode[]' && tmp_num23==null) {
			if(c23==num2) {
				tmp_num23 = i
			}
			else c23++;
		}
		if(f.elements[i].name =='coopUid[]' && tmp_num24==null) {
			if(c24==num2) {
				tmp_num24 = i
			}
			else c24++;
		}		
		if(f.elements[i].name =='coopItem[]' && tmp6==null) {
			if(c25==num2) {
				tmp6 = f.elements[i].value;			
			}
			else c25++;
		}
	}
	
	f.elements[tmp_num11].value = f.elements[tmp_num21].value;
	f.elements[tmp_num12].value = f.elements[tmp_num22].value;
	f.elements[tmp_num13].value = f.elements[tmp_num23].value;
	f.elements[tmp_num14].value = f.elements[tmp_num24].value;
	
	f.elements[tmp_num21].value = tmp1;
	f.elements[tmp_num22].value = tmp2;
	f.elements[tmp_num23].value = tmp3;
	f.elements[tmp_num24].value = tmp4;
}

/*************************  @신청 수량별 공구가 관리 ***************************/

/*************************  상품 등록 체크 ***************************/

function checkForm() {
	
	// 숫자 체크 스크립트 
	function isNumber(name) { 
		  var  ckStr= eval("form." + name); 

		  for(var i = 0; i < ckStr.value.length; i++) { 
			 var chr = ckStr.value.substr(i,1); 
			 if(chr < '0' || chr > '9') {             
				alert('숫자만 입력 가능합니다.');
				eval("form."+name+".value = ''")
				eval("form."+name+".focus()")
				return 1; 
			 } 
		  } 
	   } 

	// 입력값 체크 스크립트 
	function ck_value(name,msg) {
		 var ch=0;
		 eval("if(!form."+name+".value) { ch = 1 }")
		 if(ch==1) { 
			alert(msg);
			eval("form."+name+".focus()")
			return 1;
		 } 
	} 

    var form = document.goodsForm;

	if(form.ckBtn.value==1) {
		alert("처리 중 입니다. 버튼은 한번만 누르시기 바랍니다.");
		return false;
	}
	
	form.explan.value = explan.getHtml(); //대체한 textarea에 작성한HTML값 전달		
	
	for(i=0;i<tmp_sgoods.length;i++){
		if(tmp_sgoods[i]!='') {
			if(!form.op_goods.value) form.op_goods.value = tmp_sgoods[i];
			else form.op_goods.value = form.op_goods.value + ',' + tmp_sgoods[i];
		}
	}    
	
	if(ck_value('name','상품명을 입력하세요!')==1) return false;

	if(form.name.value.search("\'") != -1 || form.name.value.search("\"") != -1 || form.name.value.search("\,") != -1 || form.name.value.search("\:") != -1) {
		alert('상품명에 사용할 수없는 문자가 있습니다. 다시 입력하세요!');
        form.name.focus();
        return false;
    }

	//if(ck_value('comp',' 제조사를 입력하세요!')==1) return false;
	//if(ck_value('model',' 모델명을 입력하세요!')==1) return false;
	if(ck_value('price','시작가격을 입력하세요!')==1) return false;
    if(isNumber('price') == 1) return false;      
    if(isNumber('def_qty') == 1) return false;
		
	if(ck_value('sdate','공동구매 시작일을 입력하세요!')==1) return false;
	if(ck_value('edate','공동구매 종료일을 입력하세요!')==1) return false;
	if(form.sdate.value > form.edate.value) {
		tmps = form.sdate.value;
		form.sdate.value = form.edate.value;
		form.edate.value = tmps;
	}

   	if(form.qty.disabled==false) { 
	     if(ck_value('qty','재고량을 입력하세요!')==1) return false; 
		 if(isNumber('qty') == 1) return false;  
	}
	
	if(form.reserve.disabled==false) { 
	     if(ck_value('reserve','적립금을 입력하세요!')==1) return false; 
	     if(isNumber('reserve') == 1) return false;  
	}
	if(form.carriage.disabled==false) { 
	     if(ck_value('carriage','배송비를 입력하세요!')==1) return false; 
		 if(isNumber('carriage') == 1) return false;  
	}

	if(form.tag.value==tagDefault) form.tag.value = '';
	
	if(coopCnt==0) {
		alert("신청수량별 판매금액설정 항목은 1개이상 등록 되어야 합니다.");
		return false;
	}

	if(if(coopCnt==1) {
		cks = 0;
		for (i=0,cnt=form.elements.length;i<cnt;i++) {
			if(form.elements[i].name =='coopQty[]') {
				if(form.elements[i].value>0) {
					cks =1;
					break;
				}				
			}
		}

		if(cks==0) {
			alert("신청수량별 판매금액설정 항목은 1개이상 등록 되어야 합니다.");
			return false;
		}
	}

	tmps = false;
	for (i = cnt = 0; i < form.elements.length; i++) {
		if(form.elements[i].name == 'dsp8[]' && form.elements[i].value==2 ) {
			tmps = form.elements[i].checked;
			break;
		}			
	}

	if(tmps==true && coopCnt>1) {
		alert("선주문(소셜커머스)일 경우 신청수량별 판매금액설정 항목은 한개만 등록 하실 수 있습니다.");
		return false;
	}

	<!-- DYNAMIC @is_jwrite2@ -->
	if(ck_value('image1','큰 이미지를 등록하세요!')==1) return false;
	<!-- DYNAMIC @is_jwrite2@ -->
	
   if(form.explan.value=="")	{
		alert('상품 상세설명을 입력하세요!');
		explan.focus();
		return false;
	} 	
	form.ckBtn.value = 1;
	
}

/*************************  상품 등록 체크 ***************************/


function tbPost(){
	// 입력값 체크 스크립트 
	function ck_value(name,msg) {
		 var ch=0;
		 eval("if(!f."+name+".value) { ch = 1 }")
		 if(ch==1) { 
			alert(msg);
			eval("f."+name+".focus()")
			return 1;
		 } 
	} 

	f = document.goodsForm;

    tList = document.getElementById("tbList");
	
	if(ck_value('tb_link','포스트 주소를 입력 하세요!')==1) return false;
	if(ck_value('tb_title','포스트 제목을 입력 하세요!')==1) return false;
	if(ck_value('tb_post','트랙백 주소를 입력 하세요!')==1) return false;

	if(f.tb_link.value.indexOf("http://") == -1) f.tb_link.value = "http://" + f.tb_link.value;
	
	
    var tb_link = f.tb_link.value.replace(/&/g,"%26");
	var tb_post = f.tb_post.value.replace(/&/g,"%26");


	aObj.getHttpRequest("../shopping/tbPost.php?uid={{uid}}&link="+tb_link+"&title="+f.tb_title.value+"&posts="+tb_post, "tbAdd","data"); 

	document.getElementById('tbSend').innerHTML = "전송중 <img src='img/waiting.gif' border='0' height='11' />";
	document.getElementById('tbSend').onclick = "";

	return false;
}

function tbAdd(data) {	
	
	document.getElementById('tbSend').innerHTML = "트랙백보내기";
	document.getElementById('tbSend').onclick = "return tbPost()";

	if(typeof(data['message'])=='undefined') {
		alert("전송중 에러가 발생했습니다.");
		return;
	}

	if(data['message']=='Error') {	
		alert("전송중 에러가 발생했습니다.");
		return;
	}

	if(data['message']=='Duple') {
		alert("이미 등록된 트랙백입니다.");
		return;
	}

	if(data['message']=='Trans') {
		alert("트랙백 주소가 잘못 되었거나 거부 되었습니다.");
		return;
	}

	if(data['message']=='Succ') {
		
		if(!data['uid']) return;
		uid = data['uid'];

		f = document.goodsForm;
		tmps = f.tb_link.value.split("/");

		Name = '<font class=eng>[<a href="' + f.tb_link.value + '" target=_blank>' + tmps[2] + '</a>]</font> ' + f.tb_title.value + '&nbsp;&nbsp;<font class="eng">'+data['date']+'</font>&nbsp;&nbsp;<img src="img/icon_del.gif" border="0" align="absmiddle" class="hand" onclick="tbPost2('+uid+',\''+f.tb_post.value+'\');" />';

		var nList = document.createElement("div");
		nList.id = "tb_list_" + uid;	
		nList.style.height = '18px';
		nList.className = 'small';
		nList.style.padding = '6px 0 0 6px';
		nList.innerHTML = Name;
		
		tList.appendChild(nList);
		cnts = tList.childNodes.length;
		
		if(document.getElementById("tbDefault").style.display!='none') document.getElementById("tbDefault").style.display = 'none';
	}
}

function tbPost2(num,posts) {
	if(!num || !posts) return;
	
	var tb_post = posts.replace(/&/g,"%26");

	aObj.getHttpRequest("../shopping/tbPost.php?mode=del&uid="+num+"&posts="+tb_post, "tbDel","data"); 	

	document.getElementById('tbSend').innerHTML = "삭제중 <img src='img/waiting.gif' border='0' height='11' />";
	document.getElementById('tbSend').onclick = "";
}	


function tbDel(data) {	
	document.getElementById('tbSend').innerHTML = "트랙백보내기";
	document.getElementById('tbSend').onclick = "return tbPost()";

	if(typeof(data['message'])=='undefined') {
		alert("전송중 에러가 발생했습니다.");
		return;
	}

	if(data['message']=='Error') {	
		alert("전송중 에러가 발생했습니다.");
		return;
	}
	
	if(!data['uid']) return;
	num = data['uid'];
	
	tList = document.getElementById("tbList");
	element = document.getElementById('tb_list_'+num);

	element.innerHtml ='';
	tList.removeChild(element);
	
	if(document.selection) var cnt = tList.childNodes.length;
	else var cnt = tList.childNodes.length -2;
	
	if(cnt==1) document.getElementById("tbDefault").style.display = 'block';		
}


//-->
</SCRIPT>

<link href="../../swfupload/default.css" type="text/css" rel="stylesheet" />
<script src="../../lib/lib.ajax.js"></script>
<script type="text/javascript" src="../../swfupload/swfupload.js"></script>
<script type="text/javascript" src="../../swfupload/handlers_thum.js"></script>

<link href="../../pEdit/include/pEditor.css" type="text/css" rel="stylesheet" />
<script src="../../pEdit/pEditor.js"></script>

<script type="text/javascript">
var swfu;
var tmp_dir = "{{tmp_gdir2}}";
var ori_dir = "{{tmp_gdir}}";
swfUpload = 'Y';

function swfUploadInit(){
	var settings = {
		flash_url : "../../swfupload/swfupload.swf",
		upload_url: "../../swfupload/swf_upload_thum.php",	// Relative to the SWF file
		post_params: {"tmp_dir":"{{tmp_gdir2}}","o_size1":"{{o_size1}}","o_size2":"{{o_size2}}"},

		file_size_limit : "100 MB",
		file_types : "*.*",
		file_types : "*.jpg;*.gif;*.pnp",
		file_types_description : "Image File",
		file_upload_limit : 100,
		
		custom_settings : {
			upload_target : "divFileProgressContainer"
		},
		debug: false,

		// Button settings
		//button_image_url: "img/btn_bg.gif",	// Relative to the Flash file
		button_width: "53",
		button_height: "20",
		button_placeholder_id: "spanButtonPlaceHolder",
		button_text: '<span class="theFont">파일찾기</span>',
		button_text_style: ".theFont { font-family:돋움,돋움체,Tahoma; font-size:11px;letter-spacing:-1px;text-decoration:none }",
		button_text_left_padding: 4,
		button_text_top_padding: 3,
		//button_text: '파일찾기',

				
		// The event handler functions are defined in handlers.js
		//file_queued_handler : fileQueued,
		file_queue_error_handler : fileQueueError,
		file_dialog_complete_handler : fileDialogComplete,
		upload_progress_handler : uploadProgress,
		upload_error_handler : uploadError,
		upload_success_handler : uploadSuccess,
		upload_complete_handler : uploadComplete
	};

	swfu = new SWFUpload(settings);
};

</script>

<div class="mainBox2"  id="mainContent">
	<div class="top">
		<div style="padding:9px 0 0 12px;">
			<!-- DYNAMIC @is_write2@ -->
			<div class='left'><img src="img/tm_coop_goods_ins.gif" alt="공동구매상품등록" /></div>
			<div class='left small' style='padding:8px 0 0 10px;'>공동구매 상품을 등록 할 수 있습니다. 상품이미지 및 정보를 입력 하시면 됩니다.</div>
			<!-- DYNAMIC @is_write2@ -->
			<!-- DYNAMIC @is_mod1@ -->
			<div class='left'><img src="img/tm_coop_goods_mod.gif" alt="공동구매상품수정" /></div>
			<div class='left small' style='padding:8px 0 0 10px;'>공동구매 상품을 수정 할 수 있습니다.</div>
			<!-- DYNAMIC @is_mod1@ -->
		</div>			
	</div>
	<div class="content">
		<div class='content_top'></div>			
		<div style="padding:0 6px 0 6px;" id='mainHeight'>
			<div style='height:10px;overflow:hidden'>&nbsp;</div>		

<FORM method="post" name="goodsForm" ACTION="goods_post.php?{{addstring}}" enctype="multipart/form-data" onsubmit="return checkForm();">
<input type="hidden" name="cate_num" value="999000000000">
<input type="hidden" name="tmp_gdir" value="{{tmp_gdir2}}">
<input type="hidden" name="tmp2_dir" value="{{tmp2_dir2}}">
<input type="hidden" name="back" value="{{back}}">
<input type="hidden" name="ckBtn">

<table width=99% align=center cellpadding=0 cellspacing=0>
<tr><td><img src='./img/g_2th.gif'></td></tr>
<tr><td align=center>
      <table border="0" cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td> 
						<table width='100%' border="0" cellspacing="1" cellpadding="0">						
						<!-- DYNAMIC @is_mod6@ -->
						<tr height=30 align=left> 
							<td class=gr_bg width="120"><font class="bTitle small">&nbsp;&nbsp;*&nbsp;링크주소</font></td>
							<td bgcolor="#FFFFFF" colspan=3 class="eng">&nbsp;<a href="{{LINKS}}" target="_blank">{{LINKS}}</a></td>						    
						</tr>
						<!-- DYNAMIC @is_mod6@ -->
						<tr height=30 align=left> 
							<td class=gr_bg width="120"><font class="bTitle small">&nbsp;&nbsp;*&nbsp;상품번호(UID)</font></td>
							<td bgcolor="#FFFFFF" colspan=3>&nbsp;<font class="eng">{{GOODS_NUM}}</font>&nbsp;&nbsp;<font class=small>상품번호는 자동부여됩니다.</font></td>						    
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle2 small">&nbsp;&nbsp;*&nbsp;상품명</font></td>
							<td bgcolor="#EFEFEF" colspan=3>&nbsp;<input type='text' name='name' size="90" class=ta value='{{name}}'></td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;경중률</font></td>
							<td bgcolor="#EFEFEF" colspan=3 style="padding-left:6px;"> 
							    <select name="sequence">
								    <option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
								</select>
								<font class=small>경중률은 상품출력 순서에 이용됩니다. 경중률이 낮은 상품이 먼저 출력 됩니다.</font>
							</td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;모델명</font></td>
							<td bgcolor="#EFEFEF" colspan=3>&nbsp;<input type='text' name='model' size="90" class=ta value='{{model}}'></td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;제조사</font></td>
							<td bgcolor="#EFEFEF">&nbsp;<input type='text' name='comp' size="20" class=ta value='{{comp}}'>&nbsp;<SELECT name="comp2" onchange="if(this.value) goodsForm.comp.value=this.value;">{{COMP_SELECT}}</SELECT>
							</td>	
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;원산지</font><div style='width:70px;height:1px;overflow:hidden;'></div></td>
							<td bgcolor="#EFEFEF">&nbsp;<input type='text' name='made' size="20" class=ta value='{{made}}'>&nbsp;<SELECT name="made2" onchange="if(this.value) goodsForm.made.value=this.value;">{{MADE_SELECT}}</SELECT>
							</td>							
						</tr>						
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle2 small">&nbsp;&nbsp;*&nbsp;판매가</font></td>
							<td bgcolor="#EFEFEF" colspan="3">&nbsp;<input type='text' name='price' size="13" class="ta2  eng" onkeyup="onlyNum(this);" onkeydown="onlyNum(this);" value="{{price}}" onfocus="this.select();" maxlength=9>원&nbsp;&nbsp;<font class="small">상품의 판매가 입력, 공구가는 아래 신청수량별 판매금액에서 설절 하시면 됩니다.</font>
							</td>
						</tr>						
						<tr height=30 align=left> 							
							<td class=gr_bg><font class="bTitle2 small">&nbsp;&nbsp;*&nbsp;구매제한 수량</font></td>
							<td bgcolor="#EFEFEF">&nbsp;<input type='text' name='def_qty' size=4 value='{{def_qty}}' class="ta2 eng"  onkeydown="onlyNum(this);" onkeyup="onlyNum(this);" maxlength=5 onfocus="this.select();"><input type=text name=unit2 readonly  value='{{UNIT}}' style='width:20px;border:0px;background-color:#EFEFEF'>
							<font class="small">1인당 구매 제한수량, 0일경우 무제한</font>
							</td>
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;기본판매 단위</font></td>
							<td bgcolor="#EFEFEF">&nbsp;<SELECT name="unit" onclick='this.form.unit2.value=this.form.unit.value;this.form.unit3.value=this.form.unit.value' align=absmiddle>{{UNIT_SELECT}}</SELECT>
							</td>
						</tr>	
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle2 small">&nbsp;&nbsp;*&nbsp;공동구매 시작일</font></td>
							<td bgcolor="#EFEFEF">&nbsp;<input type="text" onfocus="new CalendarFrame.Calendar(this)" class="ta2 eng" size="10" name="sdate" value="{{sdate}}">
								<select name="shour">{{SHOUR}}</select>
								<select name="smin">{{SMIN}}</select>
								<div id="CalendarLayer" style="display:none; width:172px; height:175px">
									<iframe name="CalendarFrame" src="../html/calendar.html" width="172" height="175" border="0" frameborder="0" scrolling="no"></iframe>
								</div>
							</td>
							<td class=gr_bg><font class="bTitle2 small">&nbsp;&nbsp;*&nbsp;공동구매 마감일</font></td>
							<td bgcolor="#EFEFEF">&nbsp;<input type="text" onfocus="new CalendarFrame.Calendar(this)" class="ta2 eng" size="10" name="edate" value="{{edate}}">
								<select name="ehour">{{EHOUR}}</select>
								<select name="emin">{{EMIN}}</select>
							</td>
						</tr>	
						<tr  height=30 align=left>
							<td class=gr_bg><font class="bTitle2 small">&nbsp;&nbsp;*&nbsp;공동구매 종료일</font></td>
							<td bgcolor=#efefef colspan="3">&nbsp;공동구매 마감 후 <input type='text' name='coop_close' size=4 value='{{coop_close}}' class="ta2 eng"  onkeydown="onlyNum(this);" onkeyup="onlyNum(this);" maxlength=5 onfocus="this.select();">일 까지 구매가능&nbsp;&nbsp;<font class="small">이후는 판매완료로 처리됨</font>
							</td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle2 small">&nbsp;&nbsp;*&nbsp;판매수량</font></td>
							<td bgcolor="#EFEFEF" colspan=3>&nbsp;<input type='checkbox' name='dsp2[]' id='dsp21' value='1' onfocus='blur();' onclick='ck_display(2,1);document.goodsForm.qty.disabled=true;' {{DSP21}} /><label for='dsp21'>무제한</label>&nbsp;<input type='checkbox' name='dsp2[]' id='dsp24' value='4' onfocus='blur();' onclick='ck_display(2,4);document.goodsForm.qty.disabled=false;' {{DSP24}} /><label for='dsp24'>한정판매</label>
							<input type='text' name='qty' size="5" class="ta2 eng" onkeydown="onlyNum(this);" onkeyup="onlyNum(this);" maxlength=5 {{DISA1}} value="{{qty}}" /><input type=text name=unit3 readonly  value='{{UNIT}}' style='width:30px;border:0px;background-color:#EFEFEF' />
							<font class="small">한정판매일 경우 신청수량이 다 차면 자동으로 공동구매가 마감 됩니다.</font>
							</td>							
						</tr>	
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle2 small">&nbsp;&nbsp;*&nbsp;주문시점</font></td>
							<td bgcolor="#EFEFEF" colspan=3>&nbsp;<input type='checkbox' name='dsp8[]' id='dsp81' value='1' onfocus='blur();' onclick='ck_display(8,1);' {{DSP8N}} /><label for='dsp81'>성립후주문(공동구매)</label>&nbsp;<input type='checkbox' name='dsp8[]' id='dsp82' value='2' onfocus='blur();' onclick='ck_display(8,2);' {{DSP8Y}} /><label for='dsp82'>선주문(소셜커머스)</label>
							<font class="small">선주문으로 하시면 소셜커머스 처럼 주문/결제 후 공구가 미성립시 주문이 취소 됩니다.</font>
							</td>							
						</tr>		
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;적립금 적용</font></td>
							<td bgcolor="#EFEFEF" colspan=3>&nbsp;<input type='checkbox' name='dsp3[]' id='dsp31' value='1' onfocus='blur();' onclick='ck_display(3,1);document.goodsForm.reserve.disabled=true;' {{DSP31}} /><label for='dsp31'>없음</label>&nbsp;<input type='checkbox' name='dsp3[]' id='dsp32' value='2' onfocus='blur();' onclick='ck_display(3,2);document.goodsForm.reserve.disabled=true;' {{DSP32}} /><label for='dsp32'>쇼핑몰 환경정책</label>&nbsp;<input type='checkbox' name='dsp3[]' id='dsp33' value='3' onfocus='blur();' onclick='ck_display(3,3);document.goodsForm.reserve.disabled=false;' {{DSP33}} /><label for='dsp33'>별도 책정</label>&nbsp;<input type='text' name='reserve' size="4" class="ta2 eng" onkeydown="onlyNum(this);" onkeyup="onlyNum(this);" maxlength=3 {{DISA2}} value="{{reserve}}" />%
							</td>							
						</tr>		
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;배송비 적용</font></td>
							<td bgcolor="#EFEFEF" colspan=3>&nbsp;<input type='checkbox' name='dsp4[]' id='dsp41' value='1' onfocus='blur();' onclick='ck_display(4,1);document.goodsForm.carriage.disabled=true;' {{DSP41}} /><label for='dsp41'>무료</label>&nbsp;<input type='checkbox' name='dsp4[]' id='dsp42' value='2' onfocus='blur();' onclick='ck_display(4,2);document.goodsForm.carriage.disabled=true;' {{DSP42}} /><label for='dsp42'>쇼핑몰 환경정책</label>&nbsp;<input type='checkbox' name='dsp4[]' id='dsp43' value='3' onfocus='blur();' onclick='ck_display(4,3);document.goodsForm.carriage.disabled=false;' {{DSP43}} /><label for='dsp43'>별도 책정</label>&nbsp;<input type='text' name='carriage' size="8" class="ta2 eng" onkeydown="onlyNum(this);" onkeyup="onlyNum(this);" maxlength=9 value="{{carriage}}" {{DISA3}} />원
							</td>							
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;상품 태그</font></td>
							<td bgcolor="#EFEFEF" colspan=3>&nbsp;<input type='text' name='tag' size="90" class=ta value="{{tag}}" onfocus="tagFocus();" onkeyup="tagCheck(false);" onblur="tagCheck(true);">
							</td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;관련 상품</font></td>
							<td bgcolor="#EFEFEF" colspan=3 style='padding-left:6px;'>
								<div>
									<input type="radio" name="op_type" id='type2' value="B" {{CKD1B}} /> <label for='type2'>자동입력</label> : 
									<select name="type21">
									  <option value="1" {{SECB11}}>같은 분류</option>
									  <option value="2" {{SECB12}}>전체 분류</option>
									</select>
									의 
									<select name="type22">
									  <option value="2" {{SECB22}}>많이 클릭한</option>
									  <option value="3" {{SECB23}}>랜덤</option>
									</select>
									상품
									<input type='text' name='type23' size="5" class="ta2 eng" onkeydown="onlyNum(this);" onkeyup="onlyNum(this);" maxlength=5 value="{{op_goods_cnt}}" />
									개
								</div>
							</td>
						</tr>
						<tr height=56 align=left> 
							<td colspan=4 bgcolor="#FFFFFF" style="padding-left:10px;line-height:140%" class="small">
								! 적립금, 배송비의 쇼핑몰 환경정책은 쇼핑몰 환경설정에서 관리 하실 수 있습니다.<br />
								! 상품태그는 ","로 구분하며 쇼핑몰 정책에 따라 상품보기 페이지에서 사용자가 등록 할 수 있으며 20개 까지 등록이 가능 합니다.<br />
								! 관련상품은 상품검색를 이용해서 계속 추가 할 수 있습니다.
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 

<!-- DYNAMIC @is_mod41@ -->
<tr><td height=20></td></tr>
<tr><td align=center><input type=image src='./img/btn_msubmit.gif' border=0 onfocus='blur();'>&nbsp;&nbsp;<img src='./img/btn_list.gif' border=0 align="absmiddle" class="hand" onclick="window.location.href='{{back}}.php?{{addstring}}';" /></td></tr>
<input type="hidden" name="uid" value='{{uid}}'>
<input type="hidden" name="mode" value='modify'>
<!-- DYNAMIC @is_mod41@ -->
<tr><td height=10></td></tr>
<tr><td><img src='./img/g_10th.gif'></td></tr>
<tr><td align=center>
      <table border=0 cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table border=0 cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td> 
						<table width='100%' border="0" cellspacing="1" cellpadding="0">
						<tr>
							<td height=30 class=gr_bg>
								<div id="sBtn1" style="padding-left:10px;">
									<a href="#" onclick="return coopAll();return false;"><span class="green">전체선택</span></a>
									<a href="#" onclick="return coopDel();return false;"><span class="green">삭제</span></a>
									<a href="#" onclick="return coopInit();return false;"><span class="green">초기화</span></a>
								</div>								
							</td>
						</tr>
						<tr>
						    <td align="left" bgcolor="#FFFFFF" style="padding:4px 0 4px 4px;">								
								<table width='740' border="0" cellspacing="0" cellpadding="0" id="coopTable1">
								<tr align="center" height=26>
									<td width="10%" bgcolor="#EFEFEF" class="b_left b_op1"><font class="bTitle small">NO</font></td>
									<td width="10%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">선택</font></td>									
									<td bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">공구 신청수량</font></td>
									<td width="20%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">공구가</font></td>
									<td width="40%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">비고</font></td>
								</tr>
								</table>
								<div style="height:100px; overflow:auto; width:100%;">
									<table width='740' border="0" cellspacing="0" cellpadding="0" id="coopTable2">
									<col width="10%" />
									<col width="10%" />										
									<col />
									<col width="20%" /> 
									<col width="40%" />        
									<tbody id="coopList" align="center"></tbody>
									<tr id="coopListNo" align="center">
										<td height=92 bgcolor="#ffffff" colspan=5 class="small">등록된 항목이 없습니다.</td>
									</tr>
									</table>									
								</div>
							</td>
						</tr>										
						<tr>
							<td height=30 bgcolor=#FAFAFA>
								<div id="sBtn1" style="padding-left:10px;">
									<a href="#" onclick="return coopSort('top');"><span>▲ top</span></a>
									<a href="#" onclick="return coopSort('up');"><span>▲ up</span></a>
									<a href="#" onclick="return coopSort('down');"><span>▼ down</span></a>
									<a href="#" onclick="return coopSort('bottom');"><span>▼ bottom</span></a>
								</div>	
								
								<div id="sBtn1" style="float:right;padding-right:10px;overflow:hidden;">									
									<div class="left"><a href="#" onclick="return coopAdd();"><span class="green">항목추가하기</span></a></div>
								</div>								
							</td>
						</tr>
						<tr height=74 align=left bgcolor=#FFFFFF> 
							<td class="small" style="padding-left:10px;line-height:140%">
								! 공구 신청수량별 판매금액을 설정 할 수 있습니다.<br />
								! 최소 하나 이상 등록 하셔야 하며 고객공구신청수량이 공구신청 최소수량보다 적을 경우에는 공동구매가 성립되지 않습니다.<br />
								! 공구 신청수량 : 10, 판매금액 :20,000 일 경우 0~9개 까지는 시작가를 적용 받고 10개 이상일 경우 공구가인 20,000원이 적용 됩니다. 항목 추가시 같은 형태로 적용<br />
								! 선주문(소셜커머스) 일 경우 신청수량별 판매금액설정 항목은 한개만 등록 할 수 있습니다.
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 
<tr><td height=10></td></tr>
<tr><td><img src='./img/g_13th.gif'></td></tr>
<tr><td align=center>
      <table border=0 cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table border=0 cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td> 
						<table width='100%' border="0" cellspacing="1" cellpadding="0">
						<tr>
							<td height=30 class=gr_bg>
								<div id="sBtn1" style="padding-left:10px;">
									<a href="#" onclick="return opAll2();return false;"><span class="green">전체선택</span></a>
									<a href="#" onclick="return opDel2();return false;"><span class="green">삭제</span></a>
									<a href="#" onclick="return opInit2();return false;"><span class="green">초기화</span></a>
								</div>					
							</td>
						</tr>
						<tr>
						    <td align="left" bgcolor="#FFFFFF" style="padding:4px 0 4px 4px;">								
								<table width='740' border="0" cellspacing="0" cellpadding="0" id="opTable21">
								<tr align="center" height=26>
									<td width="5%" bgcolor="#EFEFEF" class="b_left b_op1"><font class="bTitle small">NO</font></td>
									<td width="5%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">선택</font></td>
									<td width="15%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">항목</font></td>
									<td width="30%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">내용</font></td>
									<td width="15%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">항목</font></td>
									<td width="30%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">내용</font></td>									
								</tr>
								</table>
								<div style="height:200px; overflow:auto; width:100%;">
									<table width='740' border="0" cellspacing="0" cellpadding="0" id="opTable22">
									<col width="5%" />
									<col width="5%" />										
									<col width="15%" />
									<col width="30%" />
									<col width="15%" /> 
									<col width="30%" />        
						
									<tbody id="opList2" align="center"></tbody>
									<tr id="opListNo2" align="center">
										<td height=192 bgcolor="#ffffff" colspan=6 class="small">등록된 내역이 없습니다.</td>
									</tr>
									</table>									
								</div>
							</td>
						</tr>										
						<tr>
							<td height=30 bgcolor=#FAFAFA>
								<div id="sBtn1" style="padding-left:10px;">
									<a href="#" onclick="return opSort2('top');"><span >▲ top</span></a>
									<a href="#" onclick="return opSort2('up');"><span >▲ up</span></a>
									<a href="#" onclick="return opSort2('down');"><span >▼ down</span></a>
									<a href="#" onclick="return opSort2('bottom');"><span >▼ bottom</span></a>
								</div>	
								
								<div id="sBtn1" style="float:right;padding-right:10px;overflow:hidden;">									
									<div class="left"><a href="#" onclick="return opAdd2(1);"><span class="green">1개항목추가</span></a></div>
									<div class="left"><a href="#" onclick="return opAdd2(2);"><span class="green">2개항목추가</span></a></div>
								</div>								
							</td>
						</tr>
						<tr height=85 align=left bgcolor=#FFFFFF> 
							<td class="small" style="padding-left:10px;line-height:140%;">
								! 전자상거래법에 의거하여 판매상품의 필수정보 등록이 필요합니다.<br />
								! <font class="orange small hand" onclick="pLightBox.show('goods_detail_info.html','iframe','660','500','■ 품목별 상품정보 고시내용',10);">품목별 상품정보 고시내용</font>을 참고하여 상품필수 정보를 등록하여 주세요. <br />
								! 등록된 정보는 쇼핑몰 상품상세페이지에 상품기본정보 아래에 표형태로 출력되어 보여집니다. <br />								
								! 같은 옵션명을 기준으로 그룹으로 형성되며 순서가 적용 되어 사용자 페이지에 나타납니다.<br />
								! 항목과 내용 란에 아무 내용도 입력하지 않으면 저장되지 않습니다. 
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 
<tr><td height=10></td></tr>
<tr><td><img src='./img/g_3th.gif'></td></tr>
<tr><td align=center>
      <table border=0 cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table border=0 cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td> 
						<table width='100%' border="0" cellspacing="1" cellpadding="0">
						<tr>
							<td height=30 class=gr_bg>
								<div id="sBtn1" style="padding-left:10px;">
									<a href="#" onclick="return opAll();return false;"><span class="green">전체선택</span></a>
									<a href="#" onclick="return opDel();return false;"><span class="green">삭제</span></a>
									<a href="#" onclick="return opInit();return false;"><span class="green">초기화</span></a>
								</div>

								<div id="sBtn1" style="float:right;padding-right:10px;">
									<a href="#" onclick="return opSecMod();return false;"><span class="green">입력</span></a>
								</div>	

								<div style="float:right;padding-left:10px;" class="small">
									<font class="bTitle small">* 선택공통적용</font> :&nbsp;&nbsp;
									노출
									<select name="opDisplay2">
										<option value="Y">Y</option>
										<option value="N">N</option>
									</select>&nbsp;&nbsp;
									비고
									<input type="text" name="opCode2" size="16" class="ta">&nbsp;&nbsp;
									재고	
									<input type="text" name="opQty2" size="8" class="ta2 eng" onkeyup="onlyNum(this);" onkeydown="onlyNum(this);" onfocus="this.select();">&nbsp;&nbsp;
								</div>
														
							</td>
						</tr>
						<tr>
						    <td align="left" bgcolor="#FFFFFF" style="padding:4px 0 4px 4px;">								
								<table width='740' border="0" cellspacing="0" cellpadding="0" id="opTable1">
								<tr align="center" height=26>
									<td width="5%" bgcolor="#EFEFEF" class="b_left b_op1"><font class="bTitle small">NO</font></td>
									<td width="5%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">선택</font></td>
									<td width="16%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">옵션명</font></td>
									<td bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">옵션항목</font></td>
									<td width="10%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">추가금액</font></td>
									<td width="6%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">노출</font></td>
									<td width="9%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">재고</font></td>
									<td width="15%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">비고</font></td>
									<td width="7%" bgcolor="#EFEFEF" class="b_op1"><font class="bTitle small">상태</font></td>
								</tr>
								</table>
								<div style="height:200px; overflow:auto; width:100%;">
									<table width='740' border="0" cellspacing="0" cellpadding="0" id="opTable2">
									<col width="5%" />
									<col width="5%" />										
									<col width="16%" />
									<col />
									<col width="10%" /> 
									<col width="6%" />        
									<col width="9%" />        						
									<col width="15%" />
									<col width="7%%" />
						
									<tbody id="opList" align="center"></tbody>
									<tr id="opListNo" align="center">
										<td height=192 bgcolor="#ffffff" colspan=9 class="small">등록된 옵션이 없습니다.</td>
									</tr>
									</table>									
								</div>
							</td>
						</tr>										
						<tr>
							<td height=30 bgcolor=#FAFAFA>
								<div id="sBtn1" style="padding-left:10px;">
									<a href="#" onclick="return opSort('top');"><span>▲ top</span></a>
									<a href="#" onclick="return opSort('up');"><span>▲ up</span></a>
									<a href="#" onclick="return opSort('down');"><span>▼ down</span></a>
									<a href="#" onclick="return opSort('bottom');"><span>▼ bottom</span></a>
								</div>	
								
								<div id="sBtn1" style="float:right;padding-right:10px;overflow:hidden;">
									<div class="left"><SELECT name="option_default">{{OPTION_SELECT}}</SELECT>&nbsp;</div>
									<div class="left"><a href="#" onclick="return opAdd();"><span class="green">옵션추가하기</span></a></div>
								</div>								
							</td>
						</tr>
						<tr height=85 align=left bgcolor=#FFFFFF> 
							<td class="small" style="padding-left:10px;line-height:140%">
								! 옵션명(예. 직접입력)을 선택 하시고 '옵션추가하기'를 누르시고 옵션상세 입력박스가 나타 납니다.<br />
								! 옵션 상세 입력 박스에 옵션명(예. 색상), 옵션항목(예. 노랑), 추가금액(예. 1000원), 재고수량(예. 100개), 노출(예. Y)을 입력 하시면 됩니다. <br />
								! 재고량은 상품재고량이 한정판매일 경우에만 연동되며 무제한일 경우 옵션재고량은 연동 되지 않습니다.(상품 무제한이라도 옵션재고 품절일 경우 품절로 나타 납니다.) <br />
								! 옵션명은 <a href='goods_conf.html' target='_blank'>상품환경설정 > 옵션관리</a>에서 자주 사용하는 옵션명을 등록 할 수 있습니다.<br />
								! 같은 옵션명을 기준으로 그룹으로 형성되며 순서가 적용 되어 사용자 페이지에 나타납니다. 
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 
<tr><td height=10></td></tr>
<tr><td><img src='./img/g_4th.gif'></td></tr>
<tr><td align=center>
      <table border="0" cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td> 
						<table width='100%' border="0" cellspacing="1" cellpadding="0">
						<tr height=30 align=left> 
							<td class=gr_bg width="120"><font class="bTitle small">&nbsp;&nbsp;*&nbsp;공동구매페이지</font></td>
							<td bgcolor='#EFEFEF' style="padding-left:6px;">
								<input type='checkbox' name='dsp6[]' id='dsp61' value='1' onfocus='blur();' onclick='ck_display(6,1)' {{DSP61}} /><label for='dsp61'>인기상품</label>
								<input type='checkbox' name='dsp6[]' id='dsp64' value='0' onfocus='blur();' onclick='ck_display(6,0)' {{DSP60}} /><label for='dsp64'>사용안함</label><span style='width:300px;'><input type=text size=80 style='border:0px;background-color:#efefef' readonly /></span>
							</td>
						</tr>	
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;아이콘 선택</td>
							<td bgcolor='#EFEFEF' style="padding-left:6px;">{{ICON_LIST}}</td>
						</tr>	
						<tr height=40 align=left> 
							<td colspan=2 bgcolor="#FFFFFF" class="small" style="padding-left:10px;line-height:140%">
								! 상품 전시는 공동구매디자인 관리에서 해당 상품 사용시에만 나타 납니다. 메인페이지 공구상품 출력시 메인페이지에도 노출됩니다.<br />
								! 아이콘은 <a href="goods_conf.html" target='_blank'>상품 환경설정</a>에서 추가 삭제할 수 있습니다.
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 
<!-- DYNAMIC @is_mod5@ -->
<tr><td height=10></td></tr>
<tr><td><img src='./img/g_9th.gif'></td></tr>
<tr><td align=center>
      <table border="0" cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td> 
						<table width='100%' border="0" cellspacing="1" cellpadding="0">
						<tr height=80 align=left> 
							<td class=gr_bg width="120"><div style='width:120px;'><font class="bTitle small">&nbsp;&nbsp;*&nbsp;트랙백 보내기</font></div></td>
							<td bgcolor="#EFEFEF" colspan=3 style="padding-left:6px;">
								<div style=" line-height:200%">
									<font class="small">포스트 주소 </font>: <input type="text" name="tb_link" class="ta" size="60" /><br />
									<font class="small">포스트 제목 </font>: <input type="text" name="tb_title" class="ta" size="90" /><br />
									<div style="float:left">
										<font class="small">트랙백 주소 </font>: <input type="text" name="tb_post" class="ta" size="60" />
									</div>			
									<div id="sBtn1" style="float:left;padding:2px 0 0 4px;">
										<a href="#" onclick="return tbPost();"><span class="green" id="tbSend">트랙백보내기</span></a>	
									</div>	

								</div>							
							</td>
						</tr>
						<tr align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;보낸 트랙백</font></td>
							<td bgcolor="#EFEFEF" colspan=3 style="padding:6px;">
								<div id="tbList" style='clear:both;width:620px;border:1px solid #dadada; background-color:#FFF;'>

									<!-- DYNAMIC @loop_tb@ -->
									<div id="tb_list_{{tb_uid}}" style="height:18px; padding:6px 0 0 6px" class="small">
										<font class=eng>[<a href="{{tb_olink}}" target="_blank">{{tb_link}}</a>]</font> {{tb_title}}&nbsp;&nbsp;<font class="eng" style="color:#aaa">{{tb_date}}</font>&nbsp;&nbsp;<img src="img/icon_del.gif" border="0" align="absmiddle" class="hand" onclick="tbPost2({{tb_uid}},'{{tb_posts}}');" />
									</div>
									<!-- DYNAMIC @loop_tb@ -->
																		
									<div style="height:40px;margin-top:28px;text-align:center;{{tb_disp}}" class="small" id='tbDefault'>보낸 트랙백이 없습니다.</div>									
								
								</div>
							</td>
						</tr>
						</table>
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 
<!-- DYNAMIC @is_mod5@ -->
<tr><td height=10></td></tr>
<tr><td><img src='./img/g_5th.gif'></td></tr>
<tr><td align=center>
      <table border="0" cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table  border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td> 
						<table width='100%' border="0" cellspacing="1" cellpadding="0">
						<tr height=30 align=left> 
							<td class=gr_bg width="120"><font class="bTitle2 small">&nbsp;&nbsp;*&nbsp;큰 이미지</font></td>
							<td bgcolor="#EFEFEF" colspan=3 class="eng">&nbsp;<input type='file' class=ta size=50 name='image1'> {{ISIZE1}}</td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;중간 이미지</font></td>
							<td bgcolor="#EFEFEF" colspan=3 class="eng">&nbsp;<input type='file' class=ta size=50 name='image2'> {{ISIZE2}}</td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;리스트 이미지</font></td>
							<td bgcolor="#EFEFEF" colspan=3 class="eng">&nbsp;<input type='file' class=ta size=50 name='image3'> {{ISIZE3}}</td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;작은 이미지</font></td>
							<td bgcolor="#EFEFEF" colspan=3 class="eng">&nbsp;<input type='file' class=ta size=50 name='image4'> {{ISIZE4}}</td>
						</tr>
						<tr height=30 align=left> 
							<td class=gr_bg><font class="bTitle small">&nbsp;&nbsp;*&nbsp;디스플레이 이미지</font></td>
							<td bgcolor="#EFEFEF" colspan=3 class="eng">&nbsp;<input type='file' class=ta size=50 name='image5'> {{ISIZE5}}</td>
						</tr>
						<tr height=30 align=left bgcolor=#FFFFFF> 
							<td colspan=4>&nbsp;&nbsp;<input type="checkbox" name="thumUse" value="Y" checked> <font class="small bold">자동 리사이즈 사용</font>&nbsp;&nbsp;<font class="small">(
							큰이미지만 등록 하면 등록하지 않은 다른 이미지들은 큰이미지를 자동으로 사이즈 조정하여 등록 됩니다.)</font>
							</td>
						</tr>
						</table>						
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 
<!-- DYNAMIC @is_mod3@ -->
<tr><td height=10></td></tr>
<tr><td><img src='./img/g_7th.gif'></td></tr>
<tr><td align=center>
      <table border="0" cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td>
						<table width="100%" border="0" cellspacing="1" cellpadding="0">
						<tr height=30 align=left> 
							<td class=gr_bg width="20%" align=center><font class="bTitle small">&nbsp;&nbsp;*&nbsp;큰 이미지&nbsp;*&nbsp;</font></td>
							<td class=gr_bg width="20%" align=center><font class="bTitle small">&nbsp;&nbsp;*&nbsp;중간 이미지&nbsp;*&nbsp;</font></td>
							<td class=gr_bg width="20%" align=center><font class="bTitle small">&nbsp;&nbsp;*&nbsp;리스트 이미지&nbsp;*&nbsp;</font></td>
							<td class=gr_bg width="20%" align=center><font class="bTitle small">&nbsp;&nbsp;*&nbsp;작은 이미지&nbsp;*&nbsp;</font></td>
							<td class=gr_bg width="20%" align=center><font class="bTitle small">&nbsp;&nbsp;*&nbsp;디스플레이 이미지&nbsp;*&nbsp;</font></td>
						</tr>
						<tr height=140> 
							<td align=center valign=middle bgcolor=#FFFFFF>{{image1}}</td>
							<td align=center valign=middle bgcolor=#FFFFFF>{{image2}}</td>
							<td align=center valign=middle bgcolor=#FFFFFF>{{image3}}</td>
							<td align=center valign=middle bgcolor=#FFFFFF>{{image4}}</td>
							<td align=center valign=middle bgcolor=#FFFFFF>{{image5}}</td>
						</tr>
						<tr height=30 align=left> 
							<td bgcolor=#EFEFEF align=center>{{img_size1}}</td>
							<td bgcolor=#EFEFEF align=center>{{img_size2}}</td>
							<td bgcolor=#EFEFEF align=center>{{img_size3}}</td>
							<td bgcolor=#EFEFEF align=center>{{img_size4}}</td>
							<td bgcolor=#EFEFEF align=center>{{img_size5}}</td>
						</tr>												
						</table>
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 
<!-- DYNAMIC @is_mod3@ -->
<tr><td height=10></td></tr>
<tr><td><img src='./img/g_8th.gif'></td></tr>
<tr><td align=center>
      <table border="0" cellspacing="4" cellpadding="0" align="center" bgcolor="#EEEEEE" width='100%'>
	  <tr>
	    	<td>
				<table  border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="#999999" width='100%'>
				<tr> 
					<td> 
						<table width='100%' border="0" cellspacing="1" cellpadding="0">
						<tr height=30 align=left>
							<td bgcolor="#FFFFFF">

	<div style="text-align:left;padding-top:5px;">
        <div style="border-bottom:1px solid #CCCCCC;padding:0px;height:26px;">		
		    <div style="float:left;background:url(img/btn_bg.gif) no-repeat;width:53px; height:22px;margin-left:10px"><span id="spanButtonPlaceHolder"></span></div>			
			<div id="divFileProgressContainer" style="height:22px; float:left;"></div>
			<div style="float:right;padding:4px;" class="eng"><span id="fSize" style="color:#FF0000">0</span> KB </div>
		</div>		
		<div id="fileList" style="clear:both;padding:6px;height:114px;">
		    <div id="listDefine" style="height:114px;line-height:240%" class="small">
				<center>
				<p style='height:20px'></p>상품의 다른 이미지를 등록 시키시면 됩니다. ( {{ISIZEOT}} )
				<br />동시에 여러개의 파일을 등록 하실 수 있습니다.
				</center>
			</div>		
		</div>
	</div>	


							</td>
						</tr>
						</table>						
					</td>
				</tr>
				</table>
	        </td>
        </tr>
        </table>
    </td>
</tr> 
<tr><td height=10></td></tr>
<tr><td><img src='./img/g_6th.gif'></td></tr>
<tr><td style="padding-left:1px;">
		<textarea name="explan" id="explan">{{explan}}</textarea>
		<script>var explan = new pEditor("explan","../../pEdit","769","400","{{tmp2_dir2}}","basic"); //에디터 생성</script>
    </td>
</tr> 

<tr><td height=10></td></tr>

<!-- DYNAMIC @is_write5@ -->
<tr><td align=center><input type=image src='./img/btn_submit.gif' border=0 onfocus='blur();'>&nbsp;&nbsp;<img src='./img/btn_list.gif' border=0 align="absmiddle" class="hand" onclick="window.location.href='{{back}}.php?{{addstring}}';" /></td></tr>
<!-- DYNAMIC @is_write5@ -->

<!-- DYNAMIC @is_mod42@ -->
<tr><td align=center><input type=image src='./img/btn_msubmit.gif' border=0 onfocus='blur();'>&nbsp;&nbsp;<img src='./img/btn_list.gif' border=0 align="absmiddle" class="hand" onclick="window.location.href='{{back}}.php?{{addstring}}';" /></td></tr>
<input type="hidden" name="uid" value='{{uid}}'>
<input type="hidden" name="mode" value='modify'>
<!-- DYNAMIC @is_mod42@ -->

<tr><td height=20></td></tr>
</table>
</FORM>
			</div>
		</div>
		<div class="bottom"></div>
		</span>		
	</div>
</div>



<script>

<!-- DYNAMIC @is_write6@ -->
coopAdd();
<!-- DYNAMIC @is_write6@ -->

var isMsie = document.all ? true : false; 

var tmpDir = new Array();
<!-- DYNAMIC @is_tmp_gdir@ -->
tmpDir[{{cnts}}] = '{{TMP_DIR}}';
<!-- DYNAMIC @is_tmp_gdir@ -->

if(tmpDir.length>0) initList(tmpDir);

var tagDefault	= "태그와 태그 사이는 쉼표(,)로 구분하며, 20개까지 등록 하실 수 있습니다.";
var tagMaxItems	= "20";
var tagMaxLength= "50";
var tagFilter   = "%+&?<>/\\ "; 

if(!document.goodsForm.tag.value) document.goodsForm.tag.value = tagDefault;

var initGoods = "{{op_goods}}";
if(initGoods) {
	secGoods(initGoods,'1');
	tmp = initGoods.split(",");
	for(i=0;i<tmp.length;i++){
		tmp_sgoods[i] = tmp[i];
	}	
	
}

<!-- DYNAMIC @loop_special@ -->
goodsForm.special_list.value = '{{SPECIAL}}';
secSpecial(1);
<!-- DYNAMIC @loop_special@ -->

<!-- DYNAMIC @loop_info@ -->
opAdd2('{{opTypes}}','{{opName1}}','{{opContent1}}','{{opName2}}','{{opContent2}}','{{opUid2}}','1');
<!-- DYNAMIC @loop_info@ -->

<!-- DYNAMIC @loop_options@ -->
opAdd('{{opType1}}','{{opType2}}','{{opPrice}}','{{opDisplay}}','{{opQty}}','{{opCode}}','{{opUid}}','1');
<!-- DYNAMIC @loop_options@ -->

<!-- DYNAMIC @loop_cooper@ -->
coopAdd('{{coopQty}}','{{coopPrice}}','{{coopCode}}','{{coopUid}}','1');
<!-- DYNAMIC @loop_cooper@ -->

goodsForm.sequence.value = "{{sequence}}";
goodsForm.shour.value = "{{shour}}";
goodsForm.smin.value = "{{smin}}";
goodsForm.ehour.value = "{{ehour}}";
goodsForm.emin.value = "{{emin}}";

pE[0] = explan;
</script>
